import{r as o,A as le,S as te,c as ne,j as e,v as re}from"./index-CkvKbGHG.js";import"./vendor-CMJYdXG8.js";const oe=(a,l)=>{const[c,i]=o.useState(a);return o.useEffect(()=>{const d=setTimeout(()=>{i(a)},l);return()=>clearTimeout(d)},[a,l]),c},ie=({className:a})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),C=({className:a})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:a||"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})}),de=({className:a})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:a||"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})}),Z=[{value:"brinco",label:"Brinco"},{value:"nome",label:"Nome"},{value:"pesoKg",label:"Peso"},{value:"dataNascimento",label:"Idade"},{value:"raca",label:"Raça"},{value:"status",label:"Status"}],j=({label:a,value:l,options:c,onChange:i,icon:d,isOpen:u,onToggle:b})=>{var N;const n=l!=="",M=n?((N=c.find(r=>r.value===l))==null?void 0:N.label)||l:a;return e.jsxs("button",{type:"button",onClick:r=>{r.preventDefault(),r.stopPropagation(),b()},"aria-expanded":u,className:`
        inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium
        transition-all duration-200 whitespace-nowrap cursor-pointer flex-shrink-0
        ${n?"bg-brand-primary text-white shadow-md shadow-brand-primary/20":"bg-base-700 text-gray-300 hover:bg-base-600 hover:text-white"}
      `,children:[d,e.jsx("span",{className:"text-left",children:M}),e.jsx(re,{className:`w-3 h-3 transition-transform ${u?"rotate-180":""}`}),n&&e.jsx("span",{onClick:r=>{r.preventDefault(),r.stopPropagation(),i("")},className:"ml-0.5 hover:bg-white/20 rounded-full p-0.5 cursor-pointer","aria-label":`Limpar ${a}`,children:e.jsx(C,{className:"w-3 h-3"})})]})},f=({label:a,value:l,options:c,onChange:i,onClose:d,includeAllOption:u=!0,allLabel:b="Todos"})=>e.jsxs("div",{className:"mt-2 bg-base-800 border border-base-700 rounded-xl shadow-xl p-3 space-y-2",role:"menu",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:a}),e.jsx("p",{className:"text-xs text-gray-400",children:"Selecione uma opção para filtrar"})]}),e.jsx("button",{type:"button",onClick:d,className:"p-1 rounded-full hover:bg-base-700 text-gray-400 hover:text-white","aria-label":"Fechar filtro",children:e.jsx(C,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-1",children:[u&&e.jsx("button",{type:"button",onClick:()=>i(""),className:`text-left px-3 py-2 rounded-lg text-sm transition-colors ${l?"bg-base-700 hover:bg-base-600 text-gray-200":"bg-brand-primary/10 text-brand-primary-light border border-brand-primary/40"}`,role:"menuitem",children:b}),c.map(n=>e.jsx("button",{type:"button",onClick:()=>i(n.value),className:`text-left px-3 py-2 rounded-lg text-sm transition-colors ${l===n.value?"bg-brand-primary/10 text-brand-primary-light border border-brand-primary/40":"bg-base-700 hover:bg-base-600 text-gray-200"}`,role:"menuitem",children:n.label},n.value))]})]}),xe=({searchTerm:a,setSearchTerm:l,searchFields:c,setSearchFields:i,selectedMedication:d,setSelectedMedication:u,selectedReason:b,setSelectedReason:n,allMedications:M,allReasons:N,selectedStatus:r,setSelectedStatus:_,selectedSexo:B,setSelectedSexo:q,selectedRaca:D,setSelectedRaca:G,selectedAreaId:P,setSelectedAreaId:Q,areas:A,weightRange:w,setWeightRange:h,ageRange:y,setAgeRange:x,sortConfig:p,setSortConfig:I,onClear:U,activeFiltersCount:g,isFiltering:$=!1})=>{const[k,S]=o.useState(a),O=oe(k,300);o.useEffect(()=>{O!==a&&l(O)},[O,l]),o.useEffect(()=>{a!==k&&a===""&&S("")},[a]);const[L,R]=o.useState(!1),[m,t]=o.useState(null),ee=o.useRef(null),T=o.useRef(null);o.useEffect(()=>{const s=E=>{T.current&&!T.current.contains(E.target)&&t(null)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const se=s=>{p.field===s?I({field:s,direction:p.direction==="asc"?"desc":"asc"}):I({field:s,direction:"asc"})},F=Object.values(le).map(s=>({value:s,label:s})),V=Object.values(te).map(s=>({value:s,label:s})),H=Object.values(ne).map(s=>({value:s,label:s})),z=[{value:"sem-area",label:"Sem área"},...A.map(s=>({value:s.id,label:s.name}))],v=s=>{t(E=>E===s?null:s)},J=s=>{_(s),t(null)},K=s=>{q(s),t(null)},W=s=>{G(s),t(null)},X=s=>{Q(s),t(null)},Y=s=>{se(s),t(null)},ae=()=>{switch(m){case"status":return e.jsx(f,{label:"Status",value:r,options:F,onChange:J,onClose:()=>t(null)});case"sexo":return e.jsx(f,{label:"Sexo",value:B,options:V,onChange:K,onClose:()=>t(null)});case"raca":return e.jsx(f,{label:"Raça",value:D,options:H,onChange:W,onClose:()=>t(null)});case"area":return e.jsx(f,{label:"Área",value:P,options:z,onChange:X,onClose:()=>t(null)});case"sort":return e.jsx(f,{label:"Ordenar por",value:p.field,options:Z,onChange:s=>Y(s),onClose:()=>t(null),includeAllOption:!1});default:return null}};return e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ie,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:k,onChange:s=>S(s.target.value),placeholder:"Buscar animal...",className:`w-full bg-base-800 border border-base-700 rounded-xl py-2.5 pl-10 pr-4 text-sm
                       focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary
                       placeholder:text-gray-500 transition-all`}),$&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-4 h-4 border-2 border-brand-primary border-t-transparent rounded-full animate-spin"})}),k&&!$&&e.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white",children:e.jsx(C,{className:"w-4 h-4"})})]}),e.jsxs("button",{onClick:()=>R(!L),className:`
            relative p-2.5 rounded-xl border transition-all
            ${L||g>0?"bg-brand-primary border-brand-primary text-white":"bg-base-800 border-base-700 text-gray-400 hover:text-white hover:border-base-600"}
          `,children:[e.jsx(de,{className:"w-5 h-5"}),g>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:g})]})]}),e.jsxs("div",{ref:T,children:[e.jsxs("div",{ref:ee,className:"flex gap-2 overflow-x-auto overflow-y-visible pb-2 scrollbar-hide -mx-4 px-4 md:mx-0 md:px-0 md:flex-wrap",style:{scrollbarWidth:"none",msOverflowStyle:"none",overflowY:"visible"},children:[e.jsx(j,{label:"Status",value:r,options:F,onChange:J,isOpen:m==="status",onToggle:()=>v("status"),icon:e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"})}),e.jsx(j,{label:"Sexo",value:B,options:V,onChange:K,isOpen:m==="sexo",onToggle:()=>v("sexo")}),e.jsx(j,{label:"Raça",value:D,options:H,onChange:W,isOpen:m==="raca",onToggle:()=>v("raca")}),A.length>0&&e.jsx(j,{label:"Área",value:P,options:z,onChange:X,isOpen:m==="area",onToggle:()=>v("area")}),e.jsx(j,{label:"Ordenar",value:p.field,options:Z,onChange:s=>Y(s),isOpen:m==="sort",onToggle:()=>v("sort"),icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:p.direction==="asc"?"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12":"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})}),g>0&&e.jsxs("button",{onClick:U,className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium
                         bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all whitespace-nowrap`,children:[e.jsx(C,{className:"w-3 h-3"}),"Limpar (",g,")"]})]}),ae()]}),L&&e.jsxs("div",{className:"bg-base-800 rounded-xl p-4 border border-base-700 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Medicamento"}),e.jsxs("select",{value:d,onChange:s=>u(s.target.value),className:"w-full bg-base-700 border-base-600 rounded-lg text-sm p-2.5",children:[e.jsx("option",{value:"",children:"Todos"}),M.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Motivo"}),e.jsxs("select",{value:b,onChange:s=>n(s.target.value),className:"w-full bg-base-700 border-base-600 rounded-lg text-sm p-2.5",children:[e.jsx("option",{value:"",children:"Todos"}),N.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Peso (kg)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:"Mín",value:w.min||"",onChange:s=>h({...w,min:s.target.value?Number(s.target.value):null}),className:"w-full bg-base-700 border-base-600 rounded-lg text-sm p-2.5"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"-"}),e.jsx("input",{type:"number",placeholder:"Máx",value:w.max||"",onChange:s=>h({...w,max:s.target.value?Number(s.target.value):null}),className:"w-full bg-base-700 border-base-600 rounded-lg text-sm p-2.5"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1.5",children:"Idade (meses)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:"Mín",value:y.minMonths||"",onChange:s=>x({...y,minMonths:s.target.value?Number(s.target.value):null}),className:"w-full bg-base-700 border-base-600 rounded-lg text-sm p-2.5"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"-"}),e.jsx("input",{type:"number",placeholder:"Máx",value:y.maxMonths||"",onChange:s=>x({...y,maxMonths:s.target.value?Number(s.target.value):null}),className:"w-full bg-base-700 border-base-600 rounded-lg text-sm p-2.5"})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-base-700",children:[e.jsx("span",{className:"text-xs text-gray-500 self-center mr-2",children:"Atalhos:"}),e.jsx("button",{onClick:()=>h({min:null,max:200}),className:"px-2 py-1 text-xs bg-base-700 hover:bg-base-600 rounded-lg transition-colors",children:"Leve (<200kg)"}),e.jsx("button",{onClick:()=>h({min:200,max:400}),className:"px-2 py-1 text-xs bg-base-700 hover:bg-base-600 rounded-lg transition-colors",children:"Médio (200-400kg)"}),e.jsx("button",{onClick:()=>h({min:400,max:null}),className:"px-2 py-1 text-xs bg-base-700 hover:bg-base-600 rounded-lg transition-colors",children:"Pesado (>400kg)"}),e.jsx("span",{className:"text-base-600",children:"|"}),e.jsx("button",{onClick:()=>x({minMonths:0,maxMonths:6}),className:"px-2 py-1 text-xs bg-base-700 hover:bg-base-600 rounded-lg transition-colors",children:"Bezerros"}),e.jsx("button",{onClick:()=>x({minMonths:6,maxMonths:12}),className:"px-2 py-1 text-xs bg-base-700 hover:bg-base-600 rounded-lg transition-colors",children:"Jovens"}),e.jsx("button",{onClick:()=>x({minMonths:12,maxMonths:24}),className:"px-2 py-1 text-xs bg-base-700 hover:bg-base-600 rounded-lg transition-colors",children:"Novilhos"}),e.jsx("button",{onClick:()=>x({minMonths:24,maxMonths:null}),className:"px-2 py-1 text-xs bg-base-700 hover:bg-base-600 rounded-lg transition-colors",children:"Adultos"})]})]})]})};export{xe as default};
