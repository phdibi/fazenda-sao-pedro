const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CalendarView-Bi7dy63m.js","assets/calendar-sEluIg52.js","assets/vendor-CMJYdXG8.js","assets/TasksView-BuLfqe7e.js","assets/Dashboard-CkfqowFN.js","assets/StatsDashboard-CvVtdYaU.js","assets/WeatherWidget-Bp9UZQJR.js","assets/FilterBar-BrPaobxb.js","assets/ExportButtons-BfIJ__-x.js","assets/ReportsView-l0T4EByj.js","assets/geminiServiceOptimized-CluguWVt.js","assets/ManagementView-CpohD99V.js","assets/BatchManagement-BbPSNvS3.js","assets/index-CCKguz_J.js","assets/useSpeechRecognition-DBn9tqYM.js","assets/AddAnimalModal-BEHAnF1s.js","assets/ScaleImportModal-DkyxS3BH.js","assets/Chatbot-C9wbOJ0V.js"])))=>i.map(i=>d[i]);
import{r as tt,g as at,a as gt}from"./vendor-CMJYdXG8.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const d of m.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function n(c){if(c.ep)return;c.ep=!0;const m=a(c);fetch(c.href,m)}})();var Se={exports:{}},je={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ke;function bt(){if(Ke)return je;Ke=1;var t=tt(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function d(x,b,w){var p,l={},g=null,j=null;w!==void 0&&(g=""+w),b.key!==void 0&&(g=""+b.key),b.ref!==void 0&&(j=b.ref);for(p in b)n.call(b,p)&&!m.hasOwnProperty(p)&&(l[p]=b[p]);if(x&&x.defaultProps)for(p in b=x.defaultProps,b)l[p]===void 0&&(l[p]=b[p]);return{$$typeof:s,type:x,key:g,ref:j,props:l,_owner:c.current}}return je.Fragment=a,je.jsx=d,je.jsxs=d,je}var He;function wt(){return He||(He=1,Se.exports=bt()),Se.exports}var e=wt(),r=tt();const vt=at(r);var Ce={},qe;function yt(){if(qe)return Ce;qe=1;var t=gt();return Ce.createRoot=t.createRoot,Ce.hydrateRoot=t.hydrateRoot,Ce}var jt=yt();const At=at(jt),Nt="modulepreload",Ct=function(t){return"/"+t},$e={},K=function(s,a,n){let c=Promise.resolve();if(a&&a.length>0){let d=function(w){return Promise.all(w.map(p=>Promise.resolve(p).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),b=(x==null?void 0:x.nonce)||(x==null?void 0:x.getAttribute("nonce"));c=d(a.map(w=>{if(w=Ct(w),w in $e)return;$e[w]=!0;const p=w.endsWith(".css"),l=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${l}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Nt,p||(g.as="script"),g.crossOrigin="",g.href=w,b&&g.setAttribute("nonce",b),document.head.appendChild(g),p)return new Promise((j,y)=>{g.addEventListener("load",j),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${w}`)))})}))}function m(d){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=d,window.dispatchEvent(x),!x.defaultPrevented)throw d}return c.then(d=>{for(const x of d||[])x.status==="rejected"&&m(x.reason);return s().catch(m)})},st=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),nt=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Sa=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),ka=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),rt=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z"})}),Ge=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),ot=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})}),it=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0118 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3l1.5 1.5 3-3.75"})}),lt=({className:t})=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),_a=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})}),La=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),Da=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})}),Ta=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}),Ra=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),Ia=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})}),Ma=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})}),Oa=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})}),Pa=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})}),za=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"})}),Fa=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),Ba=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})}),Va=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"})});var Et=(t=>(t.Hereford="Hereford",t.Braford="Braford",t.HerefordPO="Hereford PO",t.Outros="Outros",t))(Et||{}),Ne=(t=>(t.Macho="Macho",t.Femea="F√™mea",t))(Ne||{}),ct=(t=>(t.Ativo="Ativo",t.Vendido="Vendido",t.Obito="√ìbito",t))(ct||{}),$=(t=>(t.None="Nenhum",t.Birth="Nascimento",t.Weaning="Desmame",t.Yearling="Sobreano",t))($||{}),St=(t=>(t.TransferenciaEmbriao="Transfer√™ncia de Embri√£o",t.InseminacaoArtificial="Insemina√ß√£o Artificial",t.Monta="Monta Natural",t))(St||{}),B=(t=>(t.Proprietario="proprietario",t.Capataz="capataz",t.Veterinario="veterinario",t.Funcionario="funcionario",t))(B||{});const ke={proprietario:{canViewAnimals:!0,canEditAnimals:!0,canDeleteAnimals:!0,canViewFinancial:!0,canEditFinancial:!0,canViewReports:!0,canManageUsers:!0,canViewCalendar:!0,canEditCalendar:!0,canViewTasks:!0,canEditTasks:!0},capataz:{canViewAnimals:!1,canEditAnimals:!1,canDeleteAnimals:!1,canViewFinancial:!1,canEditFinancial:!1,canViewReports:!1,canManageUsers:!1,canViewCalendar:!0,canEditCalendar:!0,canViewTasks:!0,canEditTasks:!0},veterinario:{canViewAnimals:!0,canEditAnimals:!0,canDeleteAnimals:!1,canViewFinancial:!1,canEditFinancial:!1,canViewReports:!0,canManageUsers:!1,canViewCalendar:!0,canEditCalendar:!0,canViewTasks:!0,canEditTasks:!0},funcionario:{canViewAnimals:!0,canEditAnimals:!1,canDeleteAnimals:!1,canViewFinancial:!1,canEditFinancial:!1,canViewReports:!1,canManageUsers:!1,canViewCalendar:!0,canEditCalendar:!1,canViewTasks:!0,canEditTasks:!1}},Ye={searchTerm:"",selectedMedication:"",selectedReason:"",selectedStatus:"",selectedSexo:"",selectedRaca:"",selectedAreaId:"",weightRange:{min:null,max:null},ageRange:{minMonths:null,maxMonths:null},searchFields:["brinco","nome"],sortConfig:{field:"brinco",direction:"asc"}},dt=[{id:"w1",type:"breed-distribution",title:"Distribui√ß√£o por Ra√ßa",enabled:!0,order:1,size:"medium"},{id:"w2",type:"sex-distribution",title:"Distribui√ß√£o por Sexo",enabled:!0,order:2,size:"small"},{id:"w3",type:"weight-chart",title:"Peso M√©dio por M√™s",enabled:!0,order:3,size:"large"},{id:"w4",type:"age-distribution",title:"Distribui√ß√£o por Idade",enabled:!0,order:4,size:"medium"},{id:"w5",type:"calendar-preview",title:"Pr√≥ximos Eventos",enabled:!0,order:5,size:"medium"},{id:"w6",type:"tasks-preview",title:"Tarefas Pendentes",enabled:!0,order:6,size:"medium"},{id:"w7",type:"area-distribution",title:"Animais por √Årea",enabled:!1,order:7,size:"medium"},{id:"w8",type:"health-summary",title:"Resumo Sanit√°rio",enabled:!1,order:8,size:"medium"},{id:"w9",type:"weight-evolution",title:"Evolu√ß√£o de Peso",enabled:!1,order:9,size:"large"},{id:"w10",type:"weather",title:"Clima e Precipita√ß√£o",enabled:!0,order:10,size:"medium"}],_e={widgets:dt,layout:"grid",compactMode:!1};var kt=(t=>(t.Ensolarado="Ensolarado",t.Nublado="Nublado",t.Chuvoso="Chuvoso",t.Tempestade="Tempestade",t.Geada="Geada",t.Seco="Seco",t))(kt||{});const Z=window.firebase;let Le=null,le=null,E=null,Be=null,Ve=null,Ue=null,We=null;try{if(!Z)throw new Error("A biblioteca Firebase n√£o foi carregada. Verifique as tags <script> em seu index.html.");const t=window.__FIREBASE_CONFIG__||{};t!=null&&t.apiKey&&t.apiKey!=="YOUR_API_KEY"&&t.projectId&&(Z.apps.length?Le=Z.app():Le=Z.initializeApp(t),le=Z.auth(),E=Z.firestore(),Be=Z.storage(),Ve=new Z.auth.GoogleAuthProvider,Ue=Z.firestore.Timestamp,We=Z.firestore.FieldValue)}catch{Le=null,le=null,E=null,Be=null}const _t={[B.Proprietario]:{icon:"üëë",label:"Propriet√°rio"},[B.Capataz]:{icon:"üë∑",label:"Capataz"},[B.Veterinario]:{icon:"ü©∫",label:"Veterin√°rio"},[B.Funcionario]:{icon:"üßë‚Äçüåæ",label:"Funcion√°rio"}},ge=({view:t,label:s,children:a,currentView:n,setCurrentView:c})=>e.jsxs("button",{onClick:()=>c(t),className:`px-3 py-2 flex items-center gap-2 text-sm font-medium rounded-lg transition-all ${n===t?"bg-brand-primary text-white shadow-md shadow-brand-primary/20":"text-gray-300 hover:bg-base-700 hover:text-white"}`,children:[a,s]}),Lt=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),Dt=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),Tt=({currentView:t,setCurrentView:s,onAddAnimalClick:a,user:n,onForceSync:c,lastSync:m,userRole:d=B.Proprietario,onRoleClick:x})=>{const[b,w]=r.useState(!1),p=()=>{le&&le.signOut()},l=async()=>{if(!(!c||b)){w(!0);try{await c()}catch{}finally{w(!1)}}},g=()=>{if(!m)return"Nunca";const y=Date.now()-m;return y<6e4?"Agora":y<36e5?`${Math.floor(y/6e4)}min`:new Date(m).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})},j=_t[d];return e.jsx("header",{className:"header-gradient shadow-lg border-b border-base-700/50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-12 md:h-16",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/logo.png",alt:"Fazenda+",className:"h-8 md:h-11 w-auto cow-logo"}),e.jsxs("div",{className:"hidden lg:block",children:[e.jsx("h1",{className:"text-lg font-bold text-white leading-tight",children:"Fazenda+"}),e.jsx("p",{className:"text-[10px] text-gray-400 -mt-0.5",children:"Gest√£o de Rebanho"})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-1",children:[e.jsx(ge,{view:"dashboard",label:"Painel",currentView:t,setCurrentView:s,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})})}),e.jsx(ge,{view:"management",label:"Manejo",currentView:t,setCurrentView:s,children:e.jsx(lt,{className:"h-4 w-4"})}),e.jsx(ge,{view:"batches",label:"Lotes",currentView:t,setCurrentView:s,children:e.jsx(rt,{className:"h-4 w-4"})}),e.jsx(ge,{view:"calendar",label:"Agenda",currentView:t,setCurrentView:s,children:e.jsx(ot,{className:"h-4 w-4"})}),e.jsx(ge,{view:"tasks",label:"Tarefas",currentView:t,setCurrentView:s,children:e.jsx(it,{className:"h-4 w-4"})}),e.jsx(ge,{view:"reports",label:"Relat√≥rios",currentView:t,setCurrentView:s,children:e.jsx(Ge,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[e.jsx("button",{onClick:()=>s("reports"),className:`md:hidden p-2 rounded-lg transition-all ${t==="reports"?"bg-brand-primary text-white":"text-gray-400 hover:text-white"}`,children:e.jsx(Ge,{className:"w-5 h-5"})}),c&&e.jsx("button",{onClick:l,disabled:b,className:`p-2 rounded-lg transition-all ${b?"text-brand-primary-light":"text-gray-400 hover:text-white hover:bg-base-700"}`,title:`Sync: ${g()}`,children:e.jsx(Lt,{className:`w-5 h-5 ${b?"animate-spin":""}`})}),a&&e.jsxs("button",{onClick:a,className:"hidden md:flex items-center gap-2 bg-brand-primary hover:bg-brand-primary-light text-white font-semibold py-2 px-4 rounded-lg transition-all shadow-md shadow-brand-primary/20",children:[e.jsx(st,{className:"w-4 h-4"}),e.jsx("span",{children:"Novo Animal"})]}),e.jsx("div",{className:"hidden md:block w-px h-8 bg-base-600 mx-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{className:"h-8 w-8 rounded-full ring-2 ring-base-600",src:n.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(n.displayName||"U")}&background=374151&color=fff&size=64`,alt:"Avatar"}),e.jsx("span",{className:"absolute bottom-0 right-0 w-2.5 h-2.5 bg-emerald-400 rounded-full ring-2 ring-base-800"})]}),e.jsxs("div",{className:"max-w-[120px]",children:[e.jsx("p",{className:"hidden sm:block text-sm font-medium text-white truncate",children:n.displayName}),x?e.jsxs("button",{onClick:x,className:"text-xs text-gray-400 hover:text-brand-primary-light flex items-center gap-1",children:[e.jsx("span",{children:j.icon}),e.jsx("span",{children:j.label})]}):e.jsxs("p",{className:"hidden sm:block text-xs text-gray-500",children:["Sync: ",g()]})]}),e.jsx("button",{onClick:p,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all",title:"Sair",children:e.jsx(Dt,{className:"h-5 w-5"})})]})]})]})})})};class Rt{constructor(){this.storageKey="offline_operations_queue"}add(s){var c;let a=this.getQueue();(c=s.data)!=null&&c.id&&(a=a.filter(m=>{var d,x;return!(m.collection===s.collection&&((d=m.data)==null?void 0:d.id)===((x=s.data)==null?void 0:x.id))}));const n={...s,id:`${Date.now()}_${Math.random()}`,timestamp:Date.now()};a.push(n),localStorage.setItem(this.storageKey,JSON.stringify(a))}getQueue(){const s=localStorage.getItem(this.storageKey);return s?JSON.parse(s):[]}async processQueue(s){const a=this.getQueue();if(a.length!==0){for(const n of a)try{n.type==="create"?await s.collection(n.collection).add(n.data):n.type==="update"?await s.collection(n.collection).doc(n.data.id).set(n.data,{merge:!0}):n.type==="delete"&&await s.collection(n.collection).doc(n.data.id).delete()}catch{continue}localStorage.removeItem(this.storageKey)}}remove(s){const a=this.getQueue().filter(n=>n.id!==s);localStorage.setItem(this.storageKey,JSON.stringify(a))}clearQueue(){localStorage.removeItem(this.storageKey)}}const De=new Rt;window.addEventListener("online",()=>{window.dispatchEvent(new Event("sync-offline-data"))});window.addEventListener("offline",()=>{});const te=({size:t="md",className:s=""})=>{const a={sm:"h-4 w-4 border-b-2",md:"h-5 w-5 border-b-2",lg:"h-8 w-8 border-b-3"};return e.jsx("div",{className:`animate-spin rounded-full border-white ${a[t]} ${s}`})},Ae=({view:t,label:s,isActive:a,onClick:n,children:c})=>e.jsxs("button",{onClick:()=>n(t),className:`
            relative flex flex-col items-center justify-center py-1
            transition-all duration-200 min-w-[48px]
            ${a?"text-brand-primary-light":"text-gray-500 active:text-gray-300"}
        `,children:[a&&e.jsx("span",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-6 h-1 bg-brand-primary rounded-full"}),e.jsx("div",{className:`
            p-1 rounded-lg transition-all duration-200
            ${a?"bg-brand-primary/10":""}
        `,children:c}),e.jsx("span",{className:`
            text-[9px] mt-0.5 font-medium transition-all leading-tight
            ${a?"text-brand-primary-light":"text-gray-500"}
        `,children:s})]}),It=({className:t})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t||"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})}),Mt=({currentView:t,setCurrentView:s,onAddAnimalClick:a})=>e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-base-900/95 backdrop-blur-lg border-t border-base-700/50"}),e.jsxs("nav",{className:"relative flex items-center justify-between h-16 px-2",children:[e.jsxs("div",{className:"flex items-center justify-around flex-1",children:[e.jsx(Ae,{view:"dashboard",label:"Painel",isActive:t==="dashboard",onClick:s,children:e.jsx(It,{className:"w-5 h-5"})}),e.jsx(Ae,{view:"management",label:"Manejo",isActive:t==="management",onClick:s,children:e.jsx(lt,{className:"w-5 h-5"})}),e.jsx(Ae,{view:"batches",label:"Lotes",isActive:t==="batches",onClick:s,children:e.jsx(rt,{className:"w-5 h-5"})}),e.jsx(Ae,{view:"calendar",label:"Agenda",isActive:t==="calendar",onClick:s,children:e.jsx(ot,{className:"w-5 h-5"})}),e.jsx(Ae,{view:"tasks",label:"Tarefas",isActive:t==="tasks",onClick:s,children:e.jsx(it,{className:"w-5 h-5"})})]}),a&&e.jsx("button",{onClick:a,className:`
                            flex items-center justify-center
                            w-12 h-12 ml-2
                            bg-brand-primary
                            text-white rounded-xl
                            shadow-lg shadow-brand-primary/30
                            transition-all duration-200
                            active:scale-95 active:bg-brand-primary-light
                        `,"aria-label":"Cadastrar animal",children:e.jsx(st,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"h-safe bg-base-900/95",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"}})]}),Ot=({widgets:t,toggleWidget:s,setWidgetSize:a,resetToDefault:n,onClose:c})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-base-800 rounded-lg p-6 w-full max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Configurar Dashboard"}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-white",children:"‚úï"})]}),e.jsx("div",{className:"space-y-3",children:t.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-base-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:m.enabled,onChange:()=>s(m.id),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm",children:m.title})]}),e.jsxs("select",{value:m.size,onChange:d=>a(m.id,d.target.value),disabled:!m.enabled,className:"bg-base-600 text-xs rounded px-2 py-1",children:[e.jsx("option",{value:"small",children:"P"}),e.jsx("option",{value:"medium",children:"M"}),e.jsx("option",{value:"large",children:"G"})]})]},m.id))}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:n,className:"flex-1 py-2 bg-base-700 hover:bg-base-600 rounded-lg text-sm",children:"Restaurar Padr√£o"}),e.jsx("button",{onClick:c,className:"flex-1 py-2 bg-brand-primary hover:bg-brand-primary-dark rounded-lg text-sm",children:"Fechar"})]})]})}),Pt="287672",Te={[B.Proprietario]:{icon:"üëë",title:"Propriet√°rio",description:"Acesso completo a todas as funcionalidades"},[B.Capataz]:{icon:"üë∑",title:"Capataz",description:"Acesso apenas a Tarefas e Calend√°rio"},[B.Veterinario]:{icon:"ü©∫",title:"Veterin√°rio",description:"Acesso a animais, relat√≥rios sanit√°rios e calend√°rio"},[B.Funcionario]:{icon:"üßë‚Äçüåæ",title:"Funcion√°rio",description:"Acesso de visualiza√ß√£o (somente leitura)"}},Qe=({currentRole:t,onChangeRole:s,isOpen:a,onClose:n})=>{const[c,m]=r.useState(!1),[d,x]=r.useState(""),[b,w]=r.useState(null),[p,l]=r.useState("");r.useEffect(()=>{a||(m(!1),x(""),w(null),l(""))},[a]);const g=N=>{N!==t&&(w(N),m(!0),x(""),l(""))},j=()=>{d===Pt?b&&(s(b),n()):(l("Senha incorreta"),x(""))},y=N=>{N.key==="Enter"&&j()},R=()=>{m(!1),x(""),w(null),l("")};return a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:n}),e.jsx("div",{className:"fixed inset-x-4 top-1/2 -translate-y-1/2 md:inset-x-auto md:left-1/2 md:-translate-x-1/2 md:w-96 bg-base-800 rounded-lg shadow-xl z-50 overflow-hidden",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-base-700",children:[e.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white mb-2 flex items-center gap-1",children:"‚Üê Voltar"}),e.jsx("h2",{className:"text-lg font-bold text-white",children:"Digite a Senha"}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Para alterar para: ",b&&Te[b].title]})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-5xl",children:b&&Te[b].icon})}),e.jsxs("div",{children:[e.jsx("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,value:d,onChange:N=>{const L=N.target.value.replace(/\D/g,"");x(L),l("")},onKeyDown:y,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"w-full px-4 py-4 bg-base-700 border border-base-600 rounded-lg text-white text-center text-2xl tracking-[0.5em] placeholder:tracking-normal",autoFocus:!0}),p&&e.jsx("p",{className:"text-red-400 text-sm text-center mt-2",children:p})]}),e.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2,3,4,5].map(N=>e.jsx("div",{className:`w-3 h-3 rounded-full ${d.length>N?"bg-brand-primary":"bg-base-600"}`},N))}),e.jsx("button",{onClick:j,disabled:d.length!==6,className:"w-full py-3 bg-brand-primary text-white rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b border-base-700",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Selecionar Perfil de Acesso"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Escolha o n√≠vel de acesso para este dispositivo"})]}),e.jsx("div",{className:"p-4 space-y-2",children:Object.values(B).map(N=>{const L=Te[N],k=t===N;return e.jsx("button",{onClick:()=>g(N),className:`w-full p-4 rounded-lg text-left transition-all ${k?"bg-brand-primary/20 border-2 border-brand-primary":"bg-base-700 border-2 border-transparent hover:border-base-600"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:L.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-white",children:L.title}),k&&e.jsx("span",{className:"px-2 py-0.5 bg-brand-primary text-white text-xs rounded-full",children:"Atual"})]}),e.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:L.description})]}),!k&&e.jsx("span",{className:"text-gray-500",children:"üîí"})]})},N)})}),e.jsx("div",{className:"p-4 bg-base-900 border-t border-base-700",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"üîí Altera√ß√£o de perfil requer senha"})})]})})]}):null},zt=r.lazy(()=>K(()=>import("./CalendarView-Bi7dy63m.js"),__vite__mapDeps([0,1,2]))),Ft=r.lazy(()=>K(()=>import("./TasksView-BuLfqe7e.js"),__vite__mapDeps([3,2]))),Bt=({user:t,tasks:s,calendarEvents:a,onAddTask:n,onToggleTask:c,onDeleteTask:m,onAddCalendarEvent:d,onDeleteCalendarEvent:x})=>{const[b,w]=r.useState("tarefas"),p=s.filter(j=>!j.isCompleted).length,l=s.filter(j=>j.isCompleted?(new Date().toDateString(),!0):!1).length,g=a.filter(j=>{const y=new Date(j.date),R=new Date,N=new Date(R.getTime()+10080*60*1e3);return y>=R&&y<=N}).length;return e.jsxs("div",{className:"min-h-screen bg-base-900 text-white",children:[e.jsx("header",{className:"bg-base-800 border-b border-base-700 px-4 py-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-brand-primary",children:"Painel do Capataz"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Ol√°, ",t.displayName||"Capataz"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"px-2 py-1 bg-yellow-600/20 text-yellow-400 rounded text-xs",children:B.Capataz})})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4",children:[e.jsxs("div",{className:"bg-base-800 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-orange-400",children:p}),e.jsx("p",{className:"text-xs text-gray-400",children:"Tarefas Pendentes"})]}),e.jsxs("div",{className:"bg-base-800 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-400",children:l}),e.jsx("p",{className:"text-xs text-gray-400",children:"Conclu√≠das Hoje"})]}),e.jsxs("div",{className:"bg-base-800 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-400",children:g}),e.jsx("p",{className:"text-xs text-gray-400",children:"Eventos (7 dias)"})]})]}),e.jsxs("div",{className:"flex border-b border-base-700",children:[e.jsx("button",{onClick:()=>w("tarefas"),className:`flex-1 py-3 text-center font-medium transition-colors ${b==="tarefas"?"text-brand-primary border-b-2 border-brand-primary":"text-gray-400 hover:text-white"}`,children:"üìã Tarefas"}),e.jsx("button",{onClick:()=>w("calendario"),className:`flex-1 py-3 text-center font-medium transition-colors ${b==="calendario"?"text-brand-primary border-b-2 border-brand-primary":"text-gray-400 hover:text-white"}`,children:"üìÖ Calend√°rio"})]}),e.jsx("div",{className:"p-4",children:e.jsxs(r.Suspense,{fallback:e.jsx(te,{}),children:[b==="tarefas"&&e.jsx(Ft,{tasks:s,onAddTask:n,onToggleTask:c,onDeleteTask:m}),b==="calendario"&&e.jsx(zt,{events:a,onAddEvent:d,onDeleteEvent:x})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-base-800 border-t border-base-700 px-4 py-2",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"üë∑ Modo Capataz - Acesso restrito a tarefas e calend√°rio"})})]})},Vt=({isOpen:t,onClose:s,title:a,children:n})=>{if(!t)return null;const c=m=>{m.stopPropagation()};return e.jsx("div",{className:"fixed inset-0 bg-base-900 bg-opacity-75 flex justify-center items-center z-50 p-4",onClick:()=>s(),children:e.jsxs("div",{className:"bg-base-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",onClick:c,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-base-700",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:a}),e.jsx("button",{onClick:()=>s(),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(nt,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto",children:n})]})})},Wt=({isOpen:t,onClose:s,animal:a,onSave:n})=>{const[c,m]=r.useState(""),[d,x]=r.useState($.None),b=()=>{if(!a||!c)return;const l=parseFloat(c);isNaN(l)||l<=0||(n(a.id,l,d),m(""),x($.None),s())},w=()=>{m(""),x($.None),s()};if(!a)return null;const p=c?parseFloat(c)-a.pesoKg:0;return e.jsx(Vt,{isOpen:t,onClose:w,title:"‚öñÔ∏è Registrar Peso",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-base-700 rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white",children:a.nome||a.brinco}),e.jsx("p",{className:"text-sm text-gray-400",children:a.raca})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Peso atual"}),e.jsxs("p",{className:"text-xl font-bold text-brand-primary",children:[a.pesoKg," kg"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Novo Peso (kg)"}),e.jsx("input",{type:"number",value:c,onChange:l=>m(l.target.value),placeholder:"Ex: 320",className:"w-full px-4 py-3 bg-base-700 border border-base-600 rounded-lg text-white text-xl text-center",autoFocus:!0}),p!==0&&!isNaN(p)&&e.jsxs("p",{className:`text-sm mt-1 text-center ${p>0?"text-green-400":"text-red-400"}`,children:[p>0?"+":"",p.toFixed(1)," kg"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Tipo de Pesagem"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.values($).map(l=>e.jsx("button",{onClick:()=>x(l),className:`px-3 py-2 rounded-lg text-sm transition-colors ${d===l?"bg-brand-primary text-white":"bg-base-700 text-gray-400 hover:bg-base-600"}`,children:l},l))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 bg-base-700 text-white rounded-lg hover:bg-base-600",children:"Cancelar"}),e.jsx("button",{onClick:b,disabled:!c||parseFloat(c)<=0,className:"flex-1 px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-primary-dark disabled:opacity-50",children:"Salvar"})]})]})})},Ut=["Ivermectina","Doramectina","Vacina Aftosa","Vacina Carb√∫nculo"],Kt=["Preven√ß√£o","Vermifuga√ß√£o","Vacina√ß√£o","Tratamento"],Ht=({isOpen:t,onClose:s,animal:a,onSave:n})=>{var L;const[c,m]=r.useState(""),[d,x]=r.useState(""),[b,w]=r.useState("ml"),[p,l]=r.useState(""),[g,j]=r.useState("Equipe Campo");r.useEffect(()=>{if(t){const k=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${k}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden",()=>{document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",window.scrollTo(0,k)}}},[t]);const y=()=>{!a||!c||!p||(n(a.id,{medicamento:c,dose:parseFloat(d)||0,unidade:b,motivo:p,responsavel:g,dataAplicacao:new Date}),m(""),x(""),w("ml"),l(""),s())},R=()=>{m(""),x(""),l(""),s()},N=k=>{k.stopPropagation()};return!t||!a?null:e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center",style:{touchAction:"none"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/80",onClick:R}),e.jsxs("div",{className:"relative bg-base-800 rounded-t-2xl sm:rounded-lg shadow-xl w-full sm:max-w-md flex flex-col",style:{maxHeight:"80vh",touchAction:"pan-y"},onTouchMove:N,onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-base-700 shrink-0",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"üíä Registrar Medica√ß√£o"}),e.jsx("button",{onClick:R,className:"text-gray-400 hover:text-white p-2 -mr-2",children:e.jsx(nt,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto overscroll-contain p-4 space-y-3",style:{WebkitOverflowScrolling:"touch"},children:[e.jsxs("div",{className:"bg-base-700 rounded-lg p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-white",children:a.nome||a.brinco}),e.jsxs("p",{className:"text-sm text-gray-400",children:[a.raca," ‚Ä¢ ",a.pesoKg,"kg"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Tratamentos"}),e.jsx("p",{className:"text-xl font-bold text-red-400",children:((L=a.historicoSanitario)==null?void 0:L.length)||0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Medicamento *"}),e.jsx("input",{type:"text",value:c,onChange:k=>m(k.target.value),placeholder:"Nome do medicamento",className:"w-full px-3 py-2 bg-base-700 border border-base-600 rounded-lg text-white"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Ut.map(k=>e.jsx("button",{type:"button",onClick:()=>m(k),className:`px-2 py-1 text-xs rounded ${c===k?"bg-brand-primary text-white":"bg-base-600 text-gray-300"}`,children:k},k))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Dose"}),e.jsx("input",{type:"number",value:d,onChange:k=>x(k.target.value),placeholder:"0",className:"w-full px-3 py-2 bg-base-700 border border-base-600 rounded-lg text-white"})]}),e.jsxs("div",{className:"w-24",children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Unidade"}),e.jsxs("select",{value:b,onChange:k=>w(k.target.value),className:"w-full px-3 py-2 bg-base-700 border border-base-600 rounded-lg text-white",children:[e.jsx("option",{value:"ml",children:"ml"}),e.jsx("option",{value:"mg",children:"mg"}),e.jsx("option",{value:"dose",children:"dose"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Motivo *"}),e.jsx("input",{type:"text",value:p,onChange:k=>l(k.target.value),placeholder:"Motivo da aplica√ß√£o",className:"w-full px-3 py-2 bg-base-700 border border-base-600 rounded-lg text-white"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Kt.map(k=>e.jsx("button",{type:"button",onClick:()=>l(k),className:`px-2 py-1 text-xs rounded ${p===k?"bg-red-600 text-white":"bg-base-600 text-gray-300"}`,children:k},k))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Respons√°vel"}),e.jsx("input",{type:"text",value:g,onChange:k=>j(k.target.value),className:"w-full px-3 py-2 bg-base-700 border border-base-600 rounded-lg text-white"})]}),e.jsx("div",{className:"h-4"})]}),e.jsx("div",{className:"p-4 border-t border-base-700 shrink-0 bg-base-800 safe-area-inset-bottom",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:R,className:"flex-1 px-4 py-3 bg-base-700 text-white rounded-lg font-medium active:bg-base-600",children:"Cancelar"}),e.jsx("button",{type:"button",onClick:y,disabled:!c||!p,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg font-medium disabled:opacity-50 active:bg-red-700",children:"Salvar"})]})})]})]})},Re="v2",qt=3600*1e3,$t=1800*1e3,Ie={INITIAL_LOAD:100,PAGINATION_SIZE:25,MAX_BATCH_WRITE:500},Me=300,Wa=80,Ua=600,Ka=280,Ha=12,qa=50,$a=2,Ga={rootMargin:"100px",threshold:0},Je={top:1,under:.5},Ya=30,Qa={sm:640,md:768,lg:1024,xl:1280,"2xl":1536},Ja={default:2,sm:3,md:4,lg:5,xl:6,"2xl":7};class Gt{constructor(){this.dbName="fazenda-cache",this.storeName="cache",this.db=null,this.initPromise=null}async init(){return this.initPromise?this.initPromise:this.db?Promise.resolve():(this.initPromise=new Promise((s,a)=>{const n=indexedDB.open(this.dbName,1);n.onerror=()=>{this.initPromise=null,a(n.error)},n.onsuccess=()=>{this.db=n.result,s()},n.onupgradeneeded=c=>{const m=c.target.result;m.objectStoreNames.contains(this.storeName)||m.createObjectStore(this.storeName,{keyPath:"key"})}}),this.initPromise)}async get(s){return await this.init(),this.db?new Promise(a=>{try{const m=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(s);m.onsuccess=()=>{const d=m.result;d&&d.version===Re?a(d):a(null)},m.onerror=()=>{a(null)}}catch{a(null)}}):null}async set(s,a){if(await this.init(),!!this.db)return new Promise(n=>{try{const c=this.db.transaction([this.storeName],"readwrite");c.objectStore(this.storeName).put({key:s,data:a,timestamp:Date.now(),version:Re}),c.oncomplete=()=>n(),c.onerror=()=>{n()}}catch{n()}})}async clear(){if(await this.init(),!!this.db)return new Promise(s=>{try{const a=this.db.transaction([this.storeName],"readwrite");a.objectStore(this.storeName).clear(),a.oncomplete=()=>{s()},a.onerror=()=>s()}catch{s()}})}async delete(s){if(await this.init(),!!this.db)return new Promise(a=>{try{const n=this.db.transaction([this.storeName],"readwrite");n.objectStore(this.storeName).delete(s),n.oncomplete=()=>a(),n.onerror=()=>a()}catch{a()}})}isFresh(s){return Date.now()-s<qt}getAgeMinutes(s){return Math.floor((Date.now()-s)/(60*1e3))}async cleanOldEntries(s=10080*60*1e3){return await this.init(),this.db?new Promise(a=>{try{const m=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).openCursor();let d=0;const x=Date.now();m.onsuccess=b=>{const w=b.target.result;if(w){const p=w.value;(x-(p.timestamp||0)>s||p.version!==Re)&&(w.delete(),d++),w.continue()}else d>0,a(d)},m.onerror=()=>{a(0)}}catch{a(0)}}):0}async getStats(){return await this.init(),this.db?new Promise(s=>{try{const c=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).openCursor();let m=0,d=0,x=Date.now();c.onsuccess=b=>{const w=b.target.result;w?(m++,d+=JSON.stringify(w.value).length,x=Math.min(x,w.value.timestamp||Date.now()),w.continue()):s({entryCount:m,totalSize:d,oldestEntry:x})},c.onerror=()=>s({entryCount:0,totalSize:0,oldestEntry:0})}catch{s({entryCount:0,totalSize:0,oldestEntry:0})}}):{entryCount:0,totalSize:0,oldestEntry:0}}}const xe=new Gt,se=t=>{if(!t)return t;if(Array.isArray(t))return t.map(s=>se(s));if(t instanceof Ue)return t.toDate();if(typeof t=="object"&&t!==null){const s={...t};for(const a in s)s[a]=se(s[a]);return s}return t},ie=t=>{if(!t)return t;if(Array.isArray(t))return t.map(s=>ie(s));if(t instanceof Date)return Ue.fromDate(t);if(typeof t=="object"&&t!==null){const s={...t};for(const a in s)s[a]=ie(s[a]);return s}return t},Xa=t=>{if(!t)return"Data inv√°lida";const s=new Date(t);return isNaN(s.getTime())?"Data inv√°lida":s.toLocaleDateString("pt-BR")},Za=t=>{if(!t)return"";const s=new Date(t);return isNaN(s.getTime())?"":s.toISOString().split("T")[0]},ee=t=>{if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(a=>ee(a)).filter(a=>a!==void 0);const s={};for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const n=t[a];n!==void 0&&(s[a]=ee(n))}return s},Yt={enabled:!0,collections:["animals","calendar","tasks"]},Oe={animals:[],calendarEvents:[],tasks:[],managementAreas:[],batches:[],loading:{animals:!0,calendar:!0,tasks:!0,areas:!0,batches:!0},error:null,lastSync:null,listenersActive:!1},Qt=(t,s)=>{switch(s.type){case"SET_LOADING_STATUS":return{...t,loading:{...t.loading,[s.payload.collection]:s.payload.status}};case"SET_DATA":return{...t,[s.payload.collection]:s.payload.data};case"SET_ERROR":return{...t,error:s.payload};case"SET_LAST_SYNC":return{...t,lastSync:s.payload};case"SET_LISTENERS_ACTIVE":return{...t,listenersActive:s.payload};case"LOCAL_ADD_ANIMAL":return{...t,animals:[...t.animals,s.payload]};case"LOCAL_UPDATE_ANIMAL":return{...t,animals:t.animals.map(a=>a.id===s.payload.animalId?{...a,...s.payload.updatedData}:a)};case"LOCAL_DELETE_ANIMAL":return{...t,animals:t.animals.filter(a=>a.id!==s.payload.animalId)};case"LOCAL_ADD_CALENDAR_EVENT":return{...t,calendarEvents:[...t.calendarEvents,s.payload]};case"LOCAL_UPDATE_CALENDAR_EVENT":return{...t,calendarEvents:t.calendarEvents.map(a=>a.id===s.payload.id?s.payload:a)};case"LOCAL_DELETE_CALENDAR_EVENT":return{...t,calendarEvents:t.calendarEvents.filter(a=>a.id!==s.payload.eventId)};case"LOCAL_ADD_TASK":return{...t,tasks:[...t.tasks,s.payload]};case"LOCAL_UPDATE_TASK":return{...t,tasks:t.tasks.map(a=>a.id===s.payload.taskId?{...a,...s.payload.updatedData}:a)};case"LOCAL_DELETE_TASK":return{...t,tasks:t.tasks.filter(a=>a.id!==s.payload.taskId)};case"LOCAL_ADD_AREA":return{...t,managementAreas:[...t.managementAreas,s.payload]};case"LOCAL_UPDATE_AREA":return{...t,managementAreas:t.managementAreas.map(a=>a.id===s.payload.id?s.payload:a)};case"LOCAL_DELETE_AREA":return{...t,managementAreas:t.managementAreas.filter(a=>a.id!==s.payload.areaId)};case"LOCAL_ADD_BATCH":return{...t,batches:[...t.batches,s.payload]};case"LOCAL_UPDATE_BATCH":return{...t,batches:t.batches.map(a=>a.id===s.payload.batchId?{...a,...s.payload.updatedData}:a)};case"LOCAL_DELETE_BATCH":return{...t,batches:t.batches.filter(a=>a.id!==s.payload.batchId)};default:return t}},Jt=t=>{const[s,a]=r.useReducer(Qt,Oe),n=t==null?void 0:t.uid,c=r.useRef(!1),m=r.useRef(0),d=r.useRef(s);r.useEffect(()=>{d.current=s},[s]);const x=r.useRef({}),b=r.useRef(!1),w=r.useCallback(async(u,h,f,o,i)=>{if(!n||!E)return[];const A=`${n}_${u}`,v=async()=>{let C=E.collection(h).where("userId","==",n);return i&&(C=C.limit(i)),(await C.get()).docs.map(I=>{const O=se(I.data());let M={id:I.id,...O};return o&&(M=o(M)),M})},S=await xe.get(A);if(S)return a({type:"SET_DATA",payload:{collection:u,data:S.data}}),a({type:"SET_LOADING_STATUS",payload:{collection:f,status:!1}}),xe.isFresh(S.timestamp)||v().then(async C=>{await xe.set(A,C),a({type:"SET_DATA",payload:{collection:u,data:C}})}).catch(C=>{}),S.data;try{const C=await v();return await xe.set(A,C),a({type:"SET_DATA",payload:{collection:u,data:C}}),a({type:"SET_LOADING_STATUS",payload:{collection:f,status:!1}}),C}catch{return a({type:"SET_ERROR",payload:`Falha ao buscar ${u}`}),a({type:"SET_LOADING_STATUS",payload:{collection:f,status:!1}}),[]}},[n]),p=u=>{let h=[];const f=u.fotos;return typeof f=="string"&&f.trim()?h=[f]:Array.isArray(f)&&(h=f.map(o=>typeof o=="string"?o:o==null?void 0:o.url).filter(o=>!!o&&o.trim()!=="")),h.length===0&&(h=["https://storage.googleapis.com/aistudio-marketplace/gallery/cattle_management/cow_placeholder.png"]),{...u,fotos:h,historicoSanitario:u.historicoSanitario||[],historicoPesagens:u.historicoPesagens||[],historicoPrenhez:u.historicoPrenhez||[],historicoAborto:u.historicoAborto||[],historicoProgenie:u.historicoProgenie||[]}},l=r.useCallback(async(u,h)=>{if(!n)return;const f=`${n}_${u}`;await xe.set(f,h)},[n]),g=r.useCallback(()=>{if(!n||!E)return;const u=E.collection("animals").where("userId","==",n).onSnapshot(o=>{b.current&&(o.docChanges().forEach(i=>{const A=se(i.doc.data()),v=p({id:i.doc.id,...A});i.type==="added"&&(d.current.animals.some(C=>C.id===v.id)||a({type:"LOCAL_ADD_ANIMAL",payload:v})),i.type==="modified"&&a({type:"LOCAL_UPDATE_ANIMAL",payload:{animalId:v.id,updatedData:v}}),i.type==="removed"&&a({type:"LOCAL_DELETE_ANIMAL",payload:{animalId:v.id}})}),l("animals",d.current.animals))},o=>{});x.current.animals=u;const h=E.collection("calendar").where("userId","==",n).onSnapshot(o=>{b.current&&(o.docChanges().forEach(i=>{const A=se(i.doc.data()),v={id:i.doc.id,...A};i.type==="added"&&(d.current.calendarEvents.some(C=>C.id===v.id)||a({type:"LOCAL_ADD_CALENDAR_EVENT",payload:v})),i.type==="modified"&&a({type:"LOCAL_UPDATE_CALENDAR_EVENT",payload:v}),i.type==="removed"&&a({type:"LOCAL_DELETE_CALENDAR_EVENT",payload:{eventId:v.id}})}),l("calendarEvents",d.current.calendarEvents))},o=>{});x.current.calendar=h;const f=E.collection("tasks").where("userId","==",n).onSnapshot(o=>{b.current&&(o.docChanges().forEach(i=>{const A=se(i.doc.data()),v={id:i.doc.id,...A};i.type==="added"&&(d.current.tasks.some(C=>C.id===v.id)||a({type:"LOCAL_ADD_TASK",payload:v})),i.type==="modified"&&a({type:"LOCAL_UPDATE_TASK",payload:{taskId:v.id,updatedData:v}}),i.type==="removed"&&a({type:"LOCAL_DELETE_TASK",payload:{taskId:v.id}})}),l("tasks",d.current.tasks))},o=>{});x.current.tasks=f,a({type:"SET_LISTENERS_ACTIVE",payload:!0})},[n,l]),j=r.useCallback(async()=>{if(!n||!E||c.current)return;const u=d.current.lastSync;if(!u)return!1;c.current=!0;try{const h=new Date(u);let f=0;try{const o=await E.collection("animals").where("userId","==",n).where("updatedAt",">",h).get();o.empty||o.docs.forEach(i=>{const A=se(i.data()),v=p({id:i.id,...A}),S=d.current.animals.some(C=>C.id===v.id);a(S?{type:"LOCAL_UPDATE_ANIMAL",payload:{animalId:v.id,updatedData:v}}:{type:"LOCAL_ADD_ANIMAL",payload:v}),f++})}catch{}try{const o=await E.collection("calendar").where("userId","==",n).where("updatedAt",">",h).get();o.empty||o.docs.forEach(i=>{const A=se(i.data()),v={id:i.id,...A},S=d.current.calendarEvents.some(C=>C.id===v.id);a(S?{type:"LOCAL_UPDATE_CALENDAR_EVENT",payload:v}:{type:"LOCAL_ADD_CALENDAR_EVENT",payload:v}),f++})}catch{}try{const o=await E.collection("tasks").where("userId","==",n).where("updatedAt",">",h).get();o.empty||o.docs.forEach(i=>{const A=se(i.data()),v={id:i.id,...A},S=d.current.tasks.some(C=>C.id===v.id);a(S?{type:"LOCAL_UPDATE_TASK",payload:{taskId:v.id,updatedData:v}}:{type:"LOCAL_ADD_TASK",payload:v}),f++})}catch{}a({type:"SET_LAST_SYNC",payload:Date.now()}),f>0&&await Promise.all([l("animals",d.current.animals),l("calendarEvents",d.current.calendarEvents),l("tasks",d.current.tasks)])}catch{}finally{c.current=!1}},[n,l]);r.useEffect(()=>{(async()=>{try{await xe.cleanOldEntries(2592e5)>0}catch{}})()},[]),r.useEffect(()=>{if(!n||!E){Object.keys(Oe.loading).forEach(h=>{a({type:"SET_LOADING_STATUS",payload:{collection:h,status:!1}})});return}return(async()=>{if(!c.current){c.current=!0;try{await Promise.all([w("animals","animals","animals",p,Ie.INITIAL_LOAD),w("calendarEvents","calendar","calendar",void 0,Ie.INITIAL_LOAD),w("tasks","tasks","tasks",void 0,Ie.INITIAL_LOAD),w("managementAreas","areas","areas"),w("batches","batches","batches")]),a({type:"SET_LAST_SYNC",payload:Date.now()}),b.current=!0,Yt.enabled&&g()}finally{c.current=!1}}})(),()=>{Object.values(x.current).forEach(h=>{typeof h=="function"&&h()}),x.current={},b.current=!1,a({type:"SET_LISTENERS_ACTIVE",payload:!1})}},[n,w,g]);const y=r.useCallback(async()=>{const u=Date.now();if(!n||c.current||u-m.current<5e3){u-m.current<5e3;return}m.current=u,await xe.clear(),Object.keys(Oe.loading).forEach(h=>{a({type:"SET_LOADING_STATUS",payload:{collection:h,status:!0}})}),await Promise.all([w("animals","animals","animals",p),w("calendarEvents","calendar","calendar"),w("tasks","tasks","tasks"),w("managementAreas","areas","areas"),w("batches","batches","batches")]),a({type:"SET_LAST_SYNC",payload:Date.now()})},[n,w]),R=r.useCallback(async u=>{if(!(!n||!E))try{const h=E.batch(),f=E.collection("animals").doc(),o=u.pesoKg>0?[{id:`initial-${f.id}`,date:u.dataNascimento||new Date,weightKg:u.pesoKg,type:$.None}]:[],i={...u,fotos:["https://storage.googleapis.com/aistudio-marketplace/gallery/cattle_management/cow_placeholder.png"],historicoSanitario:[],historicoPesagens:o,historicoPrenhez:[],historicoAborto:[],historicoProgenie:[]},A=ee(i),v=ie(A);if(h.set(f,{...v,userId:n,updatedAt:new Date}),u.maeNome){const C=u.maeNome.toLowerCase().trim(),I=d.current.animals.find(O=>O.brinco.toLowerCase().trim()===C&&O.sexo===Ne.Femea);if(I){const O=E.collection("animals").doc(I.id),M={id:`prog_${f.id}`,offspringBrinco:u.brinco};u.pesoKg>0&&(M.birthWeightKg=u.pesoKg),h.update(O,{historicoProgenie:We.arrayUnion(M),updatedAt:new Date});const D=[...I.historicoProgenie||[],M];a({type:"LOCAL_UPDATE_ANIMAL",payload:{animalId:I.id,updatedData:{historicoProgenie:D}}})}}const S={id:f.id,...i};a({type:"LOCAL_ADD_ANIMAL",payload:S}),await h.commit(),await l("animals",[...d.current.animals,S])}catch(h){throw await y(),h}},[n,l,y]),N=r.useCallback(async(u,h)=>{if(!(!n||!E)){a({type:"LOCAL_UPDATE_ANIMAL",payload:{animalId:u,updatedData:h}});try{const f=E.batch(),o=E.collection("animals").doc(u),i=ee(h),A=ie(i);if(f.update(o,{...A,updatedAt:new Date}),h.historicoPesagens){const S=d.current.animals,C=S.find(P=>P.id===u);if(C!=null&&C.maeNome){const P=C.maeNome.toLowerCase().trim(),I=S.find(O=>O.brinco.toLowerCase().trim()===P&&O.sexo===Ne.Femea);if(I){const O=h.historicoPesagens;let M,D,G;if(O.forEach(z=>{z.type===$.Birth?M=z.weightKg:z.type===$.Weaning?D=z.weightKg:z.type===$.Yearling&&(G=z.weightKg)}),M!==void 0||D!==void 0||G!==void 0){const z=I.historicoProgenie||[],J=z.find(U=>U.offspringBrinco.toLowerCase()===C.brinco.toLowerCase());let H;if(J)H=z.map(U=>U.offspringBrinco.toLowerCase()===C.brinco.toLowerCase()?{...U,birthWeightKg:M??U.birthWeightKg,weaningWeightKg:D??U.weaningWeightKg,yearlingWeightKg:G??U.yearlingWeightKg}:U);else{const U={id:`prog_${u}`,offspringBrinco:C.brinco,birthWeightKg:M,weaningWeightKg:D,yearlingWeightKg:G};H=[...z,U]}const X=E.collection("animals").doc(I.id),be=ee(H);f.update(X,{historicoProgenie:be,updatedAt:new Date}),a({type:"LOCAL_UPDATE_ANIMAL",payload:{animalId:I.id,updatedData:{historicoProgenie:H}}})}}}}await f.commit();const v=d.current.animals.map(S=>S.id===u?{...S,...h}:S);await l("animals",v)}catch(f){throw await y(),f}}},[n,l,y]),L=r.useCallback(async u=>{if(!n||!E)throw new Error("N√£o autenticado");a({type:"LOCAL_DELETE_ANIMAL",payload:{animalId:u}});try{await E.collection("animals").doc(u).delete();const h=d.current.animals.filter(f=>f.id!==u);await l("animals",h)}catch(h){throw await y(),h}},[n,l,y]),k=r.useCallback(async u=>{if(!n||!E)return;const{id:h,...f}=u,o=ee(f),i=ie(o);try{if(h){const A={id:h,...f};a({type:"LOCAL_UPDATE_CALENDAR_EVENT",payload:A}),await E.collection("calendar").doc(h).update({...i,updatedAt:new Date});const v=d.current.calendarEvents.map(S=>S.id===h?A:S);await l("calendarEvents",v)}else{const v={id:(await E.collection("calendar").add({...i,userId:n,updatedAt:new Date})).id,...f};a({type:"LOCAL_ADD_CALENDAR_EVENT",payload:v}),await l("calendarEvents",[...d.current.calendarEvents,v])}}catch(A){throw await y(),A}},[n,l,y]),ne=r.useCallback(async u=>{if(!(!n||!E)){a({type:"LOCAL_DELETE_CALENDAR_EVENT",payload:{eventId:u}});try{await E.collection("calendar").doc(u).delete();const h=d.current.calendarEvents.filter(f=>f.id!==u);await l("calendarEvents",h)}catch(h){throw await y(),h}}},[n,l,y]),ce=r.useCallback(async u=>{if(!n||!E)return;const h=ee({...u,isCompleted:!1,userId:n}),f=ie(h);try{const i={id:(await E.collection("tasks").add({...f,updatedAt:new Date})).id,...u,isCompleted:!1};a({type:"LOCAL_ADD_TASK",payload:i}),await l("tasks",[...d.current.tasks,i])}catch(o){throw await y(),o}},[n,l,y]),de=r.useCallback(async u=>{if(!n||!E)return;const h=!u.isCompleted;a({type:"LOCAL_UPDATE_TASK",payload:{taskId:u.id,updatedData:{isCompleted:h}}});try{await E.collection("tasks").doc(u.id).update({isCompleted:h,updatedAt:new Date});const f=d.current.tasks.map(o=>o.id===u.id?{...o,isCompleted:h}:o);await l("tasks",f)}catch(f){throw await y(),f}},[n,l,y]),me=r.useCallback(async u=>{if(!(!n||!E)){a({type:"LOCAL_DELETE_TASK",payload:{taskId:u}});try{await E.collection("tasks").doc(u).delete();const h=d.current.tasks.filter(f=>f.id!==u);await l("tasks",h)}catch(h){throw await y(),h}}},[n,l,y]),ue=r.useCallback(async u=>{if(!n||!E)return;const{id:h,...f}=u,o=ee(f);try{if(h){const i={id:h,...f};a({type:"LOCAL_UPDATE_AREA",payload:i}),await E.collection("areas").doc(h).update({...o,updatedAt:new Date});const A=d.current.managementAreas.map(v=>v.id===h?i:v);await l("managementAreas",A)}else{const A={id:(await E.collection("areas").add({...o,userId:n,updatedAt:new Date})).id,...f};a({type:"LOCAL_ADD_AREA",payload:A}),await l("managementAreas",[...d.current.managementAreas,A])}}catch(i){throw await y(),i}},[n,l,y]),he=r.useCallback(async u=>{if(!n||!E)return;const h=d.current.animals,f=d.current.managementAreas;a({type:"LOCAL_DELETE_AREA",payload:{areaId:u}});const o=h.filter(i=>i.managementAreaId===u);o.forEach(i=>{a({type:"LOCAL_UPDATE_ANIMAL",payload:{animalId:i.id,updatedData:{managementAreaId:void 0}}})});try{const i=E.batch();o.forEach(S=>{const C=E.collection("animals").doc(S.id);i.update(C,{managementAreaId:We.delete(),updatedAt:new Date})}),i.delete(E.collection("areas").doc(u)),await i.commit();const A=f.filter(S=>S.id!==u);await l("managementAreas",A);const v=h.map(S=>S.managementAreaId===u?{...S,managementAreaId:void 0}:S);await l("animals",v)}catch(i){throw await y(),i}},[n,l,y]),pe=r.useCallback(async(u,h)=>{if(!(!n||!E)){h.forEach(f=>{a({type:"LOCAL_UPDATE_ANIMAL",payload:{animalId:f,updatedData:{managementAreaId:u}}})});try{const f=E.batch();h.forEach(i=>{const A=E.collection("animals").doc(i);f.update(A,{managementAreaId:u,updatedAt:new Date})}),await f.commit();const o=d.current.animals.map(i=>h.includes(i.id)?{...i,managementAreaId:u}:i);await l("animals",o)}catch(f){throw await y(),f}}},[n,l,y]),V=r.useCallback(async u=>{if(!n||!E)return;const h=ee({...u,userId:n}),f=ie(h);try{const i={id:(await E.collection("batches").add({...f,updatedAt:new Date})).id,...u};return a({type:"LOCAL_ADD_BATCH",payload:i}),await l("batches",[...d.current.batches,i]),i}catch(o){throw await y(),o}},[n,l,y]),W=r.useCallback(async(u,h)=>{if(!(!n||!E)){a({type:"LOCAL_UPDATE_BATCH",payload:{batchId:u,updatedData:h}});try{const f=E.collection("batches").doc(u),o=ee(h),i=ie(o);await f.update({...i,updatedAt:new Date});const A=d.current.batches.map(v=>v.id===u?{...v,...h}:v);await l("batches",A)}catch(f){throw await y(),f}}},[n,l,y]),Q=r.useCallback(async u=>{if(!(!n||!E)){a({type:"LOCAL_DELETE_BATCH",payload:{batchId:u}});try{await E.collection("batches").doc(u).delete();const h=d.current.batches.filter(f=>f.id!==u);await l("batches",h)}catch(h){throw await y(),h}}},[n,l,y]),re=r.useCallback(async u=>{if(!n||!E)return;await W(u,{status:"completed",completedAt:new Date})},[n,E,W]);return{state:s,db:E,forceSync:y,syncDelta:j,addAnimal:R,updateAnimal:N,deleteAnimal:L,addOrUpdateCalendarEvent:k,deleteCalendarEvent:ne,addTask:ce,toggleTaskCompletion:de,deleteTask:me,addOrUpdateManagementArea:ue,deleteManagementArea:he,assignAnimalsToArea:pe,createBatch:V,updateBatch:W,deleteBatch:Q,completeBatch:re}};function Pe(t,s){let a=null;const n=(...c)=>{a&&clearTimeout(a),a=setTimeout(()=>{a=null,t(...c)},s)};return n.cancel=()=>{a&&(clearTimeout(a),a=null)},n}const ze=(t,s,a,n)=>{const c=Math.ceil((new Date(n).getTime()-new Date(a).getTime())/864e5);return c<=0?0:Number(((s-t)/c).toFixed(3))},Xt=t=>{const s=t.historicoPesagens||[];if(s.length<2)return{gmdTotal:0,diasAcompanhamento:0};const a=[...s].sort((N,L)=>new Date(N.date).getTime()-new Date(L.date).getTime()),n=a[0],c=a[a.length-1],m=Math.ceil((new Date(c.date).getTime()-new Date(n.date).getTime())/(1e3*60*60*24)),d=m>0?Number(((c.weightKg-n.weightKg)/m).toFixed(3)):0,x=a.find(N=>N.type===$.Birth),b=a.find(N=>N.type===$.Weaning);let w;x&&b&&(w=ze(x.weightKg,b.weightKg,x.date,b.date));const p=a.find(N=>N.type===$.Yearling);let l;b&&p&&(l=ze(b.weightKg,p.weightKg,b.date,p.date));const g=new Date,j=new Date(g.getTime()-720*60*60*1e3),y=a.filter(N=>new Date(N.date)>=j);let R;if(y.length>=2){const N=y[0],L=y[y.length-1];R=ze(N.weightKg,L.weightKg,N.date,L.date)}return{gmdTotal:d,gmdNascimentoDesmame:w,gmdDesmameSobreano:l,gmdUltimos30Dias:R,diasAcompanhamento:m,pesoInicial:n.weightKg,pesoFinal:c.weightKg}},es=t=>{if(!t)return 0;const s=new Date,a=new Date(t),n=s.getTime()-a.getTime();return Math.floor(n/(1e3*60*60*24*30.44))},ts=t=>t==null?"N/A":`${t.toFixed(3)} kg/dia`,as=t=>t>=1.5?{label:"Excelente",color:"text-green-400"}:t>=1?{label:"Bom",color:"text-blue-400"}:t>=.7?{label:"Regular",color:"text-yellow-400"}:t>=.4?{label:"Abaixo",color:"text-orange-400"}:{label:"Cr√≠tico",color:"text-red-400"},Xe=t=>{const s=new Date,a=new Date(t),n=(s.getFullYear()-a.getFullYear())*12+(s.getMonth()-a.getMonth());return Math.max(0,n)},Zt=({animals:t,areas:s})=>{const[a,n]=r.useState(Ye),[c,m]=r.useState(""),[d,x]=r.useState({min:null,max:null}),[b,w]=r.useState({minMonths:null,maxMonths:null}),[p,l]=r.useState(!1),g=r.useRef(Pe(o=>{m(o),l(!1)},Me)),j=r.useRef(Pe(o=>{x(o),l(!1)},Me)),y=r.useRef(Pe(o=>{w(o),l(!1)},Me));r.useEffect(()=>{const o=g.current,i=j.current,A=y.current;return()=>{o.cancel(),i.cancel(),A.cancel()}},[]);const R=r.useMemo(()=>{const o=new Set;return t.forEach(i=>{i.historicoSanitario.forEach(A=>o.add(A.medicamento))}),Array.from(o).sort()},[t]),N=r.useMemo(()=>{const o=new Set;return t.forEach(i=>{i.historicoSanitario.forEach(A=>o.add(A.motivo))}),Array.from(o).sort()},[t]),L=r.useMemo(()=>t.map(o=>({...o,_cachedGMD:Xt(o)})),[t]),k=r.useMemo(()=>{let o=L.filter(i=>{if(c){const v=c.toLowerCase().trim(),S=v.includes(" ou "),C=v.includes(" e ");let P,I;S?(P=v.split(" ou ").map(D=>D.trim()).filter(Boolean),I="or"):C?(P=v.split(" e ").map(D=>D.trim()).filter(Boolean),I="and"):(P=[v],I="single");const O=D=>a.searchFields.some(G=>{var z,J,H;switch(G){case"brinco":return i.brinco.toLowerCase().includes(D);case"nome":return(z=i.nome)==null?void 0:z.toLowerCase().includes(D);case"paiNome":return(J=i.paiNome)==null?void 0:J.toLowerCase().includes(D);case"maeNome":return(H=i.maeNome)==null?void 0:H.toLowerCase().includes(D);case"medicamento":return i.historicoSanitario.some(X=>X.medicamento.toLowerCase().includes(D));case"motivo":return i.historicoSanitario.some(X=>X.motivo.toLowerCase().includes(D));default:return!1}});let M;if(I==="or"?M=P.some(D=>O(D)):I==="and"?M=P.every(D=>O(D)):M=O(P[0]),!M)return!1}if(a.selectedMedication&&!i.historicoSanitario.some(S=>S.medicamento===a.selectedMedication)||a.selectedReason&&!i.historicoSanitario.some(S=>S.motivo===a.selectedReason)||a.selectedStatus&&i.status!==a.selectedStatus||a.selectedSexo&&i.sexo!==a.selectedSexo||a.selectedRaca&&i.raca!==a.selectedRaca)return!1;if(a.selectedAreaId){if(a.selectedAreaId==="sem-area"){if(i.managementAreaId)return!1}else if(i.managementAreaId!==a.selectedAreaId)return!1}if(d.min!==null&&i.pesoKg<d.min||d.max!==null&&i.pesoKg>d.max)return!1;const A=Xe(i.dataNascimento);return!(b.minMonths!==null&&A<b.minMonths||b.maxMonths!==null&&A>b.maxMonths)});return o.sort((i,A)=>{const{field:v,direction:S}=a.sortConfig;let C=0;switch(v){case"brinco":C=i.brinco.localeCompare(A.brinco);break;case"nome":C=(i.nome||"").localeCompare(A.nome||"");break;case"pesoKg":C=i.pesoKg-A.pesoKg;break;case"dataNascimento":C=new Date(i.dataNascimento).getTime()-new Date(A.dataNascimento).getTime();break;case"raca":C=i.raca.localeCompare(A.raca);break;case"status":C=i.status.localeCompare(A.status);break}return S==="asc"?C:-C}),o},[L,c,d,b,a.selectedMedication,a.selectedReason,a.selectedStatus,a.selectedSexo,a.selectedRaca,a.selectedAreaId,a.searchFields,a.sortConfig]),ne=r.useMemo(()=>{var U;const o=k.filter(T=>T.status===ct.Ativo),i=o.reduce((T,F)=>T+F.pesoKg,0),A=o.filter(T=>T.sexo===Ne.Macho).length,v=o.filter(T=>T.sexo===Ne.Femea).length,S={};o.forEach(T=>{S[T.raca]=(S[T.raca]||0)+1});const C={bezerros:0,jovens:0,novilhos:0,adultos:0};o.forEach(T=>{const F=Xe(T.dataNascimento);F<=6?C.bezerros++:F<=12?C.jovens++:F<=24?C.novilhos++:C.adultos++});const P={leve:0,medio:0,pesado:0};o.forEach(T=>{T.pesoKg<200?P.leve++:T.pesoKg<=400?P.medio++:P.pesado++});const I={};o.forEach(T=>{var oe;const F=T.managementAreaId?((oe=s.find(Ee=>Ee.id===T.managementAreaId))==null?void 0:oe.name)||"√Årea Desconhecida":"Sem √Årea";I[F]=(I[F]||0)+1});let O=0,M=0;const D={};k.forEach(T=>{T.historicoSanitario.length>0&&(M++,O+=T.historicoSanitario.length,T.historicoSanitario.forEach(F=>{D[F.medicamento]=(D[F.medicamento]||0)+1}))});const G=((U=Object.entries(D).sort(([,T],[,F])=>F-T)[0])==null?void 0:U[0])||"Nenhum";let z=0,J=0,H=0,X=0;o.forEach(T=>{var oe;const F=((oe=T._cachedGMD)==null?void 0:oe.gmdTotal)??null;F&&F>0&&(z+=F,J++,F>=Je.top&&H++,F<Je.under&&X++)});const be={averageGMD:J>0?z/J:0,animalsWithGMD:J,topPerformers:H,underperformers:X};return{totalAnimals:k.length,totalWeight:i,averageWeight:o.length>0?i/o.length:0,maleCount:A,femaleCount:v,activeCount:o.length,breedDistribution:S,ageDistribution:C,weightRangeDistribution:P,areaDistribution:I,healthStats:{totalTreatments:O,animalsWithTreatments:M,mostUsedMedication:G},gmdStats:be}},[k,s]),ce=r.useMemo(()=>{let o=0;return a.searchTerm&&o++,a.selectedMedication&&o++,a.selectedReason&&o++,a.selectedStatus&&o++,a.selectedSexo&&o++,a.selectedRaca&&o++,a.selectedAreaId&&o++,(a.weightRange.min!==null||a.weightRange.max!==null)&&o++,(a.ageRange.minMonths!==null||a.ageRange.maxMonths!==null)&&o++,o},[a]),de=r.useCallback(o=>{n(i=>({...i,searchTerm:o})),l(!0),g.current(o)},[]),me=r.useCallback(o=>{n(i=>({...i,selectedMedication:o}))},[]),ue=r.useCallback(o=>{n(i=>({...i,selectedReason:o}))},[]),he=r.useCallback(o=>{n(i=>({...i,selectedStatus:o}))},[]),pe=r.useCallback(o=>{n(i=>({...i,selectedSexo:o}))},[]),V=r.useCallback(o=>{n(i=>({...i,selectedRaca:o}))},[]),W=r.useCallback(o=>{n(i=>({...i,selectedAreaId:o}))},[]),Q=r.useCallback(o=>{n(i=>({...i,weightRange:o})),l(!0),j.current(o)},[]),re=r.useCallback(o=>{n(i=>({...i,ageRange:o})),l(!0),y.current(o)},[]),u=r.useCallback(o=>{n(i=>({...i,searchFields:o}))},[]),h=r.useCallback(o=>{n(i=>({...i,sortConfig:o}))},[]),f=r.useCallback(()=>{n(Ye),m(""),x({min:null,max:null}),w({minMonths:null,maxMonths:null}),l(!1)},[]);return{filters:a,filteredAnimals:k,stats:ne,setSearchTerm:de,setSelectedMedication:me,setSelectedReason:ue,setSelectedStatus:he,setSelectedSexo:pe,setSelectedRaca:V,setSelectedAreaId:W,setWeightRange:Q,setAgeRange:re,setSearchFields:u,setSortConfig:h,clearAllFilters:f,activeFiltersCount:ce,allMedications:R,allReasons:N,isFiltering:p}},Fe="fazenda_dashboard_config",ea=()=>{const[t,s]=r.useState(()=>{try{const p=localStorage.getItem(Fe);if(p){const l=JSON.parse(p),g=dt.map(j=>{var R;const y=(R=l.widgets)==null?void 0:R.find(N=>N.type===j.type);return y?{...j,...y}:j});return{..._e,...l,widgets:g}}}catch{}return _e});r.useEffect(()=>{try{localStorage.setItem(Fe,JSON.stringify(t))}catch{}},[t]);const a=t.widgets.filter(p=>p.enabled).sort((p,l)=>p.order-l.order),n=r.useCallback(p=>{s(l=>({...l,widgets:l.widgets.map(g=>g.id===p?{...g,enabled:!g.enabled}:g)}))},[]),c=r.useCallback((p,l)=>{s(g=>{const j=[...g.widgets],y=j.findIndex(N=>N.id===p);if(y===-1)return g;const[R]=j.splice(y,1);return R.order=l,j.forEach((N,L)=>{N.order>=l&&(N.order=N.order+1)}),j.push(R),j.sort((N,L)=>N.order-L.order),j.forEach((N,L)=>{N.order=L+1}),{...g,widgets:j}})},[]),m=r.useCallback((p,l)=>{s(g=>({...g,widgets:g.widgets.map(j=>j.id===p?{...j,size:l}:j)}))},[]),d=r.useCallback(p=>{s(l=>({...l,layout:p}))},[]),x=r.useCallback(p=>{s(l=>({...l,compactMode:p}))},[]),b=r.useCallback(()=>{s(_e),localStorage.removeItem(Fe)},[]),w=r.useCallback(p=>{var l;return((l=t.widgets.find(g=>g.type===p))==null?void 0:l.enabled)??!1},[t.widgets]);return{config:t,enabledWidgets:a,toggleWidget:n,reorderWidgets:c,setWidgetSize:m,setLayout:d,setCompactMode:x,resetToDefault:b,isWidgetEnabled:w}},Ze="user_role",ta=t=>{const[s,a]=r.useState(B.Proprietario),[n,c]=r.useState(ke[B.Proprietario]);r.useEffect(()=>{if(!(t!=null&&t.uid))return;const g=localStorage.getItem(`${Ze}_${t.uid}`);if(g&&Object.values(B).includes(g)){const j=g;a(j),c(ke[j])}},[t==null?void 0:t.uid]);const m=r.useCallback(g=>{t!=null&&t.uid&&(a(g),c(ke[g]),localStorage.setItem(`${Ze}_${t.uid}`,g))},[t==null?void 0:t.uid]),d=r.useCallback(()=>t?{...t,role:s,permissions:n}:null,[t,s,n]),x=r.useCallback(g=>n[g],[n]),b=s===B.Capataz,w=s===B.Proprietario,p=s===B.Veterinario,l=s===B.Funcionario;return{role:s,permissions:n,changeRole:m,getUserProfile:d,canAccess:x,isCapataz:b,isProprietario:w,isVeterinario:p,isFuncionario:l}},mt=r.createContext(void 0),aa=({children:t,user:s})=>{const a=Jt(s),n=Zt({animals:a.state.animals,areas:a.state.managementAreas}),c=ea(),m=ta(s),d={firestore:a,filters:n,dashboardConfig:c,userProfile:m};return e.jsx(mt.Provider,{value:d,children:t})},ut=()=>{const t=r.useContext(mt);if(t===void 0)throw new Error("useFarmData must be used within a FarmProvider");return t},sa=r.lazy(()=>K(()=>import("./Dashboard-CkfqowFN.js"),__vite__mapDeps([4,2]))),na=r.lazy(()=>K(()=>import("./StatsDashboard-CvVtdYaU.js"),__vite__mapDeps([5,6,2]))),ra=r.lazy(()=>K(()=>import("./FilterBar-BrPaobxb.js"),__vite__mapDeps([7,2]))),oa=r.lazy(()=>K(()=>import("./TasksView-BuLfqe7e.js"),__vite__mapDeps([3,2]))),et=r.lazy(()=>K(()=>import("./ExportButtons-BfIJ__-x.js"),__vite__mapDeps([8,2]))),ia=r.lazy(()=>K(()=>import("./CalendarView-Bi7dy63m.js"),__vite__mapDeps([0,1,2]))),la=r.lazy(()=>K(()=>import("./ReportsView-l0T4EByj.js"),__vite__mapDeps([9,10,6,2]))),ca=r.lazy(()=>K(()=>import("./ManagementView-CpohD99V.js"),__vite__mapDeps([11,2]))),da=r.lazy(()=>K(()=>import("./BatchManagement-BbPSNvS3.js"),__vite__mapDeps([12,1,2]))),ma=({currentView:t,costlyActionsEnabled:s,setShowDashboardSettings:a,onSelectAnimal:n,onQuickWeight:c,onQuickMedication:m,onLongPress:d,setShowScaleImportModal:x,focusNFePanel:b,setFocusNFePanel:w})=>{const{firestore:p,filters:l,dashboardConfig:g}=ut(),{state:j,addTask:y,toggleTaskCompletion:R,deleteTask:N,addOrUpdateCalendarEvent:L,deleteCalendarEvent:k,addOrUpdateManagementArea:ne,deleteManagementArea:ce,assignAnimalsToArea:de,createBatch:me,updateBatch:ue,deleteBatch:he,completeBatch:pe}=p,{filters:V,filteredAnimals:W,stats:Q,setSearchTerm:re,setSearchFields:u,setSelectedMedication:h,setSelectedReason:f,setSelectedStatus:o,setSelectedSexo:i,setSelectedRaca:A,setSelectedAreaId:v,setWeightRange:S,setAgeRange:C,setSortConfig:P,clearAllFilters:I,activeFiltersCount:O,allMedications:M,allReasons:D}=l,{config:G,enabledWidgets:z,toggleWidget:J}=g;return t==="dashboard"?e.jsxs(r.Suspense,{fallback:e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(te,{})}),children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4 md:mb-6 gap-3",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"Painel do Rebanho"}),e.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 rounded-md bg-base-700 hover:bg-base-600 text-sm text-white border border-base-600",children:[e.jsx("span",{role:"img","aria-label":"balan√ßa",children:"‚öñÔ∏è"}),"Importar Balan√ßa"]}),s?e.jsx(et,{animals:W,stats:Q,areas:j.managementAreas}):e.jsx("div",{className:"text-xs text-yellow-300 border border-yellow-700 rounded px-3 py-2 bg-yellow-900/20",children:"Configure o Firebase para habilitar exporta√ß√£o."})]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Estat√≠sticas"}),e.jsx("button",{onClick:()=>a(!0),className:"text-sm text-brand-primary-light hover:text-brand-primary",children:"‚öôÔ∏è Configurar"})]}),e.jsx(na,{stats:Q,enabledWidgets:z,areas:j.managementAreas,compactMode:G.compactMode,calendarEvents:j.calendarEvents,tasks:j.tasks,animals:W}),e.jsx(ra,{searchTerm:V.searchTerm,setSearchTerm:re,searchFields:V.searchFields,setSearchFields:u,selectedMedication:V.selectedMedication,setSelectedMedication:h,selectedReason:V.selectedReason,setSelectedReason:f,allMedications:M,allReasons:D,selectedStatus:V.selectedStatus,setSelectedStatus:o,selectedSexo:V.selectedSexo,setSelectedSexo:i,selectedRaca:V.selectedRaca,setSelectedRaca:A,selectedAreaId:V.selectedAreaId,setSelectedAreaId:v,areas:j.managementAreas,weightRange:V.weightRange,setWeightRange:S,ageRange:V.ageRange,setAgeRange:C,sortConfig:V.sortConfig,setSortConfig:P,onClear:I,activeFiltersCount:O}),e.jsx(sa,{animals:W,onSelectAnimal:n,onQuickWeight:c,onQuickMedication:m,onLongPress:d}),e.jsx("div",{className:"sm:hidden mt-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center justify-center gap-2 px-3 py-3 rounded-lg bg-base-700 hover:bg-base-600 text-xs font-semibold text-white border border-base-600",children:[e.jsx("span",{role:"img","aria-label":"balan√ßa",children:"‚öñÔ∏è"}),e.jsxs("span",{className:"leading-tight text-left",children:["Importar",e.jsx("br",{}),"Balan√ßa"]})]}),s?e.jsx("div",{className:"col-span-2",children:e.jsx(et,{animals:W,stats:Q,areas:j.managementAreas,variant:"compact"})}):e.jsx("div",{className:"col-span-2 text-xs text-yellow-300 border border-yellow-700 rounded px-3 py-2 bg-yellow-900/20 flex items-center justify-center text-center",children:"Configure o Firebase para habilitar exporta√ß√£o."})]})})]}):t==="reports"?e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(te,{size:"lg"})}),children:e.jsx(la,{animals:j.animals,focusNFe:b,onNFeHandled:()=>w(!1)})}):t==="calendar"?e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(te,{size:"lg"})}),children:e.jsx(ia,{events:j.calendarEvents,onSave:L,onDelete:k})}):t==="tasks"?e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(te,{})}),children:e.jsx(oa,{tasks:j.tasks,onAddTask:y,onToggleTask:R,onDeleteTask:N})}):t==="management"?e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(te,{size:"lg"})}),children:e.jsx(ca,{animals:j.animals,areas:j.managementAreas,onSaveArea:ne,onDeleteArea:ce,onAssignAnimals:de})}):t==="batches"?e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(te,{size:"lg"})}),children:e.jsx(da,{batches:j.batches,animals:j.animals,onCreateBatch:me,onUpdateBatch:ue,onDeleteBatch:he,onCompleteBatch:pe})}):null},ua=r.lazy(()=>K(()=>import("./index-CCKguz_J.js"),__vite__mapDeps([13,10,14,2]))),ha=r.lazy(()=>K(()=>import("./AddAnimalModal-BEHAnF1s.js"),__vite__mapDeps([15,10,14,2]))),pa=r.lazy(()=>K(()=>import("./ScaleImportModal-DkyxS3BH.js"),__vite__mapDeps([16,2]))),xa=r.lazy(()=>K(()=>import("./Chatbot-C9wbOJ0V.js"),__vite__mapDeps([17,10,2]))),fa=({user:t,firebaseReady:s})=>{const{firestore:a,userProfile:n,dashboardConfig:c}=ut(),{state:m,db:d,forceSync:x,syncDelta:b,addAnimal:w,updateAnimal:p,deleteAnimal:l,addOrUpdateCalendarEvent:g,deleteCalendarEvent:j,addTask:y,toggleTaskCompletion:R,deleteTask:N}=a,{role:L,changeRole:k,canAccess:ne,isCapataz:ce,getUserProfile:de}=n,{config:me,toggleWidget:ue,setWidgetSize:he,resetToDefault:pe}=c,[V,W]=r.useState(!1),[Q,re]=r.useState("dashboard"),[u,h]=r.useState(null),[f,o]=r.useState(!1),[i,A]=r.useState(!1),[v,S]=r.useState(!1),[C,P]=r.useState(!1),[I,O]=r.useState(null),[M,D]=r.useState(null),G=r.useMemo(()=>m.animals.find(_=>_.id===u)||null,[m.animals,u]),z=!!d,H=s&&z&&!!Be;r.useEffect(()=>{if(!d)return;const _=async()=>{await De.processQueue(d),alert("‚úÖ Dados sincronizados com sucesso!")};return window.addEventListener("sync-offline-data",_),()=>window.removeEventListener("sync-offline-data",_)},[a,d]);const X=_=>{h(_.id)},be=async _=>{try{await l(_)}catch{alert("Ocorreu um erro ao excluir o animal.")}},U=()=>{h(null)},T=async _=>{try{navigator.onLine?(await w(_),o(!1)):(De.add({type:"create",collection:"animals",data:{..._,userId:t.uid}}),o(!1),alert("üì± Animal salvo localmente! Ser√° sincronizado quando a internet voltar."))}catch{alert("‚ùå Erro ao adicionar animal")}},F=async(_,q)=>{try{navigator.onLine?await p(_,q):(De.add({type:"update",collection:"animals",data:{id:_,...q}}),alert("üì± Altera√ß√µes salvas localmente!"))}catch{alert("‚ùå Erro ao atualizar animal")}},oe=()=>{o(!0)},Ee=async(_,q,Y)=>{try{const ae=m.animals.find(ve=>ve.id===_);if(!ae)return;const fe={id:`quick-${Date.now()}`,date:new Date,weightKg:q,type:Y===$.None?void 0:Y},we=[...ae.historicoPesagens||[],fe].sort((ve,ye)=>new Date(ve.date).getTime()-new Date(ye.date).getTime());await p(_,{historicoPesagens:we,pesoKg:q})}catch{alert("‚ùå Erro ao salvar peso")}},pt=async(_,q)=>{try{const Y=m.animals.find(we=>we.id===_);if(!Y)return;const ae={id:`med-${Date.now()}`,...q},fe=[...Y.historicoSanitario||[],ae];await p(_,{historicoSanitario:fe})}catch{alert("‚ùå Erro ao salvar medica√ß√£o")}},xt=async _=>{try{const q=[];_.forEach((Y,ae)=>{const fe=m.animals.find(ye=>ye.id===ae);if(!fe)return;const we={id:`scale-${Date.now()}-${ae}`,date:Y.date,weightKg:Y.weight,type:Y.type===$.None?void 0:Y.type},ve=[...fe.historicoPesagens||[],we].sort((ye,ft)=>new Date(ye.date).getTime()-new Date(ft.date).getTime());q.push(p(ae,{historicoPesagens:ve,pesoKg:Y.weight}))}),await Promise.all(q),alert("Pesagens importadas da balan√ßa com sucesso!")}catch{alert("N√£o foi poss√≠vel concluir a importa√ß√£o da balan√ßa.")}};if(r.useEffect(()=>{if(!d)return;const _=window.setInterval(async()=>{navigator.onLine&&await b()===!1&&x()},$t);return()=>window.clearInterval(_)},[x,b,d]),m.loading.animals||m.loading.calendar||m.loading.tasks||m.loading.areas)return e.jsxs("div",{className:"min-h-screen bg-base-900 flex flex-col justify-center items-center text-white",children:[e.jsx(te,{}),e.jsx("p",{className:"mt-4",children:"Carregando dados da fazenda..."}),e.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Carregando do cache local..."})]});if(ce){const _=de();if(_)return e.jsxs(e.Fragment,{children:[e.jsx(Bt,{user:_,tasks:m.tasks,calendarEvents:m.calendarEvents,onAddTask:y,onToggleTask:R,onDeleteTask:N,onAddCalendarEvent:g,onDeleteCalendarEvent:j}),e.jsx("button",{onClick:()=>W(!0),className:"fixed bottom-4 right-4 px-3 py-2 bg-base-700 text-gray-400 rounded-lg text-xs hover:bg-base-600 z-30",children:"üë∑ Trocar Perfil"}),e.jsx(Qe,{currentRole:L,onChangeRole:k,isOpen:V,onClose:()=>W(!1)})]})}return e.jsxs("div",{className:"min-h-screen bg-base-900 font-sans pb-24 md:pb-0",children:[e.jsx(Tt,{currentView:Q,setCurrentView:re,onAddAnimalClick:ne("canEditAnimals")?oe:void 0,user:t,onForceSync:z?x:void 0,lastSync:m.lastSync,userRole:L,onRoleClick:()=>W(!0)}),e.jsxs("main",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[!H&&e.jsxs("div",{className:"mb-4 rounded-lg border border-yellow-700 bg-yellow-900/30 p-3 text-yellow-200 text-sm",children:[e.jsx("p",{className:"font-semibold text-yellow-100",children:"Configura√ß√£o necess√°ria"}),e.jsxs("p",{children:["Para usar exporta√ß√£o e upload, confirme o ",e.jsx("code",{className:"bg-base-800 px-1 rounded",children:"window.__FIREBASE_CONFIG__"})," no",e.jsx("code",{className:"bg-base-800 px-1 rounded ml-1",children:"index.html"})," e garanta que Firestore e Storage estejam ativos."]})]}),e.jsx(ma,{currentView:Q,costlyActionsEnabled:H,setShowDashboardSettings:A,onSelectAnimal:X,onQuickWeight:_=>O(_),onQuickMedication:_=>D(_),onLongPress:_=>h(_.id),setShowScaleImportModal:S,focusNFePanel:C,setFocusNFePanel:P})]}),e.jsxs(r.Suspense,{fallback:null,children:[e.jsx(ua,{animal:G,isOpen:!!G,onClose:U,onUpdateAnimal:F,onDeleteAnimal:be,animals:m.animals,user:t,storageReady:H}),e.jsx(ha,{isOpen:f,onClose:()=>o(!1),onAddAnimal:T,animals:m.animals}),e.jsx(pa,{isOpen:v,onClose:()=>S(!1),animals:m.animals,onImportComplete:xt}),e.jsx(xa,{animals:m.animals})]}),e.jsx(Wt,{isOpen:!!I,onClose:()=>O(null),animal:I,onSave:Ee}),e.jsx(Ht,{isOpen:!!M,onClose:()=>D(null),animal:M,onSave:pt}),e.jsx(Mt,{currentView:Q,setCurrentView:re,onAddAnimalClick:ne("canEditAnimals")?oe:void 0}),i&&e.jsx(Ot,{widgets:me.widgets,toggleWidget:ue,setWidgetSize:he,resetToDefault:pe,onClose:()=>A(!1)}),e.jsx(Qe,{currentRole:L,onChangeRole:k,isOpen:V,onClose:()=>W(!1)})]})},ga=t=>e.jsx(aa,{user:t.user,children:e.jsx(fa,{...t})});class ba extends r.Component{constructor(s){super(s),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){const{onError:n,componentName:c}=this.props;this.setState({errorInfo:a}),n&&n(s,a)}render(){const{hasError:s,error:a}=this.state,{children:n,fallback:c}=this.props;return s&&a?typeof c=="function"?c(a,this.handleReset):c||e.jsx("div",{className:"min-h-screen bg-base-950 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-base-900 border border-base-700 rounded-xl p-8 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"text-4xl",children:"üòï"}),e.jsx("h2",{className:"text-2xl font-bold text-red-400",children:"Algo deu errado"})]}),e.jsx("p",{className:"text-base-200 mb-2",children:a.message||"Erro desconhecido"}),!1,e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:this.handleReset,className:`flex-1 bg-brand-primary hover:bg-brand-primary-light 
                           text-white font-semibold py-3 px-4 rounded-lg 
                           transition-colors`,children:"Tentar novamente"}),e.jsx("button",{onClick:()=>window.location.reload(),className:`flex-1 bg-base-700 hover:bg-base-600 
                           text-white font-semibold py-3 px-4 rounded-lg 
                           transition-colors`,children:"Recarregar"})]})]})}):n}}const wa=()=>e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[e.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),e.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),e.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),e.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C42.022,35.332,44,30.038,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),va=({onLogin:t,initialError:s})=>{const[a,n]=r.useState(!1),[c,m]=r.useState(s);r.useEffect(()=>{m(s)},[s]);const d=async()=>{n(!0),m(null);try{await t()}catch(x){x.code==="auth/operation-not-allowed"?m("Login com Google n√£o est√° ativado. Por favor, ative-o no seu Console do Firebase em Authentication > Sign-in method."):m("Falha no login. Verifique o console para mais detalhes ou tente novamente."),n(!1)}};return e.jsxs("div",{className:"min-h-screen bg-base-900 flex flex-col justify-center items-center text-white p-8 text-center",children:[e.jsx("img",{src:"/logo.png",alt:"Fazenda+",className:"h-24 w-auto mb-6 cow-logo"}),e.jsx("h1",{className:"text-4xl font-bold",children:"Fazenda+"}),e.jsx("p",{className:"text-base-300 mt-2",children:"Gerencie seu rebanho com intelig√™ncia."}),e.jsxs("div",{className:"mt-12",children:[e.jsxs("button",{onClick:d,disabled:a,className:"inline-flex items-center bg-white text-gray-700 font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-gray-100 transition-colors disabled:opacity-50",children:[a?e.jsx(te,{}):e.jsx(wa,{}),e.jsx("span",{children:"Entrar com Google"})]}),c&&e.jsxs("div",{className:"text-red-400 bg-red-900/30 border border-red-400/50 p-3 rounded-md mt-6 max-w-md mx-auto text-sm",children:[e.jsx("p",{className:"font-bold",children:"Ocorreu um problema"}),e.jsx("p",{children:c})]})]})]})},ya=()=>{try{const a="__firebase_auth_test__";window.localStorage.setItem(a,"test"),window.localStorage.removeItem(a)}catch{return{supported:!1,reason:"O Web Storage do seu navegador est√° desativado ou n√£o √© suportado. O sistema de login precisa dele para funcionar. Verifique as configura√ß√µes de privacidade do seu navegador ou tente em uma janela normal."}}const t=["http:","https:","chrome-extension:"],s=window.location.protocol;return t.includes(s)?{supported:!0,reason:null}:{supported:!1,reason:`O protocolo do seu ambiente (${s}) n√£o √© suportado. O aplicativo deve ser executado a partir de um servidor web (http ou https), e n√£o como um arquivo local ('file:').`}},ja=()=>{const t=window.__FIREBASE_CONFIG__;return t?!t.apiKey||t.apiKey==="YOUR_API_KEY"||!t.projectId?{valid:!1,reason:"A configura√ß√£o do Firebase est√° incompleta. Atualize window.__FIREBASE_CONFIG__ em index.html."}:{valid:!0,reason:null}:{valid:!1,reason:"A configura√ß√£o do Firebase n√£o foi carregada. Verifique a tag <script> em index.html."}},Aa=()=>{const[t,s]=r.useState(null),[a,n]=r.useState(!0),[c,m]=r.useState(null),[d,x]=r.useState(null),[b,w]=r.useState(!1);r.useEffect(()=>{let g=!0;const j=ya();if(!j.supported){m(j.reason),n(!1);return}const y=ja();if(!y.valid){x(y.reason),n(!1);return}if(w(!0),!le){x("A configura√ß√£o do Firebase √© inv√°lida ou est√° ausente. O aplicativo n√£o pode se conectar ao banco de dados."),n(!1);return}const R=le.onAuthStateChanged(N=>{if(g){if(N){const L={uid:N.uid,displayName:N.displayName||"Usu√°rio",email:N.email,photoURL:N.photoURL};s(L),x(null)}else s(null);n(!1)}});return()=>{g=!1,R()}},[]);const p=async()=>{if(!le||!Ve)throw new Error("Autentica√ß√£o n√£o inicializada.");await le.signInWithPopup(Ve)},l=g=>{const j=g.includes("protocolo")||g.includes("file:"),y=g.includes("Web Storage");return j?e.jsxs("div",{className:"mt-6 bg-base-800 p-6 rounded-lg text-left max-w-3xl w-full",children:[e.jsx("p",{className:"font-bold text-lg mb-2",children:"Como Resolver:"}),e.jsxs("p",{className:"text-base-200",children:["Este erro geralmente ocorre ao abrir o arquivo ",e.jsx("code",{className:"bg-base-700 px-1 rounded text-sm",children:"index.html"})," diretamente no navegador. Para que a autentica√ß√£o funcione, o aplicativo precisa ser servido por um servidor web."]}),e.jsx("p",{className:"font-bold text-lg mt-4 mb-2",children:"Op√ß√£o R√°pida (com VS Code):"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-base-200",children:[e.jsxs("li",{children:["Instale a extens√£o ",e.jsx("strong",{className:"text-base-100",children:'"Live Server"'})," no Visual Studio Code."]}),e.jsx("li",{children:"Abra a pasta do projeto no VS Code."}),e.jsxs("li",{children:["Clique com o bot√£o direito no arquivo ",e.jsx("code",{className:"bg-base-700 px-1 rounded text-sm",children:"index.html"})," e selecione ",e.jsx("strong",{className:"text-base-100",children:'"Open with Live Server"'}),"."]}),e.jsxs("li",{children:["Uma nova aba do navegador abrir√° com o endere√ßo correto (come√ßando com ",e.jsx("code",{className:"bg-base-700 px-1 rounded text-sm",children:"http://127.0.0.1..."}),"). Use esta nova aba."]})]})]}):y?e.jsxs("div",{className:"mt-6 bg-base-800 p-6 rounded-lg text-left max-w-3xl w-full",children:[e.jsx("p",{className:"font-bold text-lg mb-2",children:"Poss√≠veis Causas e Solu√ß√µes:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-base-200",children:[e.jsxs("li",{children:[e.jsx("strong",{className:"text-base-100",children:"Modo de Navega√ß√£o Privada/An√¥nima:"})," Alguns navegadores bloqueiam o armazenamento de dados. Tente usar uma janela normal."]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-base-100",children:"Configura√ß√µes do Navegador:"}),' Verifique se as configura√ß√µes de privacidade (ex: Chrome, Firefox, Safari) n√£o est√£o bloqueando "cookies e dados de sites de terceiros".']}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-base-100",children:"Extens√µes de Navegador:"})," Extens√µes de bloqueio de an√∫ncios ou de privacidade podem desativar o Web Storage. Tente desativ√°-las temporariamente."]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-base-100",children:"Navegador Desatualizado:"})," Garanta que seu navegador est√° atualizado para a vers√£o mais recente."]})]})]}):null};if(c)return e.jsxs("div",{className:"min-h-screen bg-base-900 flex flex-col justify-center items-center text-white p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Ambiente Incompat√≠vel"}),e.jsx("p",{className:"max-w-2xl",children:c}),l(c)]});if(a)return e.jsxs("div",{className:"min-h-screen bg-base-900 flex flex-col justify-center items-center text-white",children:[e.jsx(te,{}),e.jsx("p",{className:"mt-4",children:"Autenticando sess√£o..."})]});if(d){const g=d==null?void 0:d.includes("configura√ß√£o do Firebase √© inv√°lida");return e.jsxs("div",{className:"min-h-screen bg-base-900 flex flex-col justify-center items-center text-white p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:g?"A√ß√£o Necess√°ria: Configura√ß√£o":"Erro de Conex√£o"}),e.jsx("p",{className:"max-w-2xl",children:d||"Ocorreu um erro inesperado. Por favor, recarregue a p√°gina."}),g&&e.jsxs("div",{className:"mt-6 bg-base-800 p-6 rounded-lg text-left max-w-3xl w-full",children:[e.jsx("p",{className:"font-bold text-lg mb-2",children:"Como resolver:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-base-200",children:[e.jsxs("li",{children:["Acesse o ",e.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-brand-primary-light underline hover:text-brand-primary",children:"Console do Firebase"})," e selecione seu projeto."]}),e.jsxs("li",{children:["Clique no √≠cone de engrenagem (‚öôÔ∏è) e v√° para ",e.jsx("strong",{className:"text-base-100",children:"Configura√ß√µes do Projeto"}),"."]}),e.jsx("li",{children:'Na aba "Geral", role para baixo at√© a se√ß√£o "Seus apps".'}),e.jsxs("li",{children:['Selecione seu app da Web e na se√ß√£o "SDK setup and configuration", escolha a op√ß√£o ',e.jsx("strong",{className:"text-base-100",children:'"Config"'}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{className:"text-yellow-300",children:"Copie o objeto de configura√ß√£o inteiro"}),", que come√ßa com ",e.jsxs("code",{className:"bg-base-700 px-1 rounded text-sm",children:["const firebaseConfig = ","{"," ... ","}"]}),"."]}),e.jsxs("li",{children:["Abra o arquivo ",e.jsx("code",{className:"bg-base-700 px-1 rounded text-sm",children:"index.html"})," no seu editor de c√≥digo."]}),e.jsxs("li",{children:["Encontre o script que define ",e.jsx("code",{className:"bg-base-700 px-1 rounded text-sm",children:"window.__FIREBASE_CONFIG__"})," e ",e.jsx("strong",{className:"text-yellow-300",children:"substitua o objeto de exemplo INTEIRO"})," pelo que voc√™ copiou do Firebase."]}),e.jsxs("li",{children:["Salve o arquivo e ",e.jsx("strong",{className:"text-base-100",children:"recarregue esta p√°gina"}),"."]})]})]})]})}return t?e.jsx(ga,{user:t,firebaseReady:b}):e.jsx(va,{onLogin:p,initialError:null})},ht=document.getElementById("root");if(!ht)throw new Error("Could not find root element to mount to");const Na=At.createRoot(ht);Na.render(e.jsx(vt.StrictMode,{children:e.jsx(ba,{children:e.jsx(Aa,{})})}));export{ct as A,Qa as B,La as C,kt as D,Va as E,Sa as F,Ja as G,Ia as H,Ga as I,lt as J,Ua as L,Oa as M,Ra as P,vt as R,Ne as S,ka as T,Fa as U,qa as V,$ as W,nt as X,K as _,za as a,te as b,Et as c,Za as d,Pa as e,Xa as f,St as g,Vt as h,st as i,e as j,_a as k,Xt as l,as as m,Wa as n,Ya as o,Ka as p,Ha as q,r,Be as s,$a as t,es as u,Ta as v,Ma as w,Da as x,ts as y,Ba as z};
